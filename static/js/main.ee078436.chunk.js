(this.webpackJsonpTheormechApp=this.webpackJsonpTheormechApp||[]).push([[0],{11:function(e,t,a){e.exports={container:"ModalStickerCreation_container__2Atdg",sticky_container:"ModalStickerCreation_sticky_container__2v7HO",back_button:"ModalStickerCreation_back_button__2Ej5k",content:"ModalStickerCreation_content__2b5g3",input_title:"ModalStickerCreation_input_title__104Sb",input:"ModalStickerCreation_input__kOmO8",right_answer_choice:"ModalStickerCreation_right_answer_choice__3xfmc",save_button:"ModalStickerCreation_save_button__1Di3q",select:"ModalStickerCreation_select__Se-l7",preview:"ModalStickerCreation_preview__1Hztv",preview_logo:"ModalStickerCreation_preview_logo__2pipv",input_frame:"ModalStickerCreation_input_frame__2sFSJ",input_button:"ModalStickerCreation_input_button__19f7D",input_label:"ModalStickerCreation_input_label__3jaVT",cost_input:"ModalStickerCreation_cost_input___JEl1",input_file:"ModalStickerCreation_input_file__8n6QV",filename:"ModalStickerCreation_filename__3N9Ou",btnWarning:"ModalStickerCreation_btnWarning__3jxqx",warningText:"ModalStickerCreation_warningText__21kO3"}},114:function(e,t,a){e.exports=a.p+"static/media/ic_question_status_untouched.ec202b6a.svg"},117:function(e,t,a){e.exports={button:"BackButton_button__25Lmy"}},119:function(e,t,a){e.exports={select:"Select_select__3uHwx"}},124:function(e,t,a){e.exports={question_item:"QuestionListItem_question_item__3jM-f"}},13:function(e,t,a){e.exports={preview_wrapper:"Preview_preview_wrapper__3FEKD",blurred:"Preview_blurred__CJweM",blurring:"Preview_blurring__1qZmF",background:"Preview_background__31ufK",button:"Preview_button__2654u",modal_window:"Preview_modal_window__2sYQn",slider_wrapper:"Preview_slider_wrapper__1dNdi",sticky_container:"Preview_sticky_container__1nB9J",back_button:"Preview_back_button__LTHoG",slider:"Preview_slider__1G7er",content_wrapper:"Preview_content_wrapper__3lY_Q",title:"Preview_title__slVcP",status:"Preview_status__1GaR4",description:"Preview_description__2Qz7q",progress:"Preview_progress__1jJks",progress_title:"Preview_progress_title__wqECe",question_list:"Preview_question_list__17t_v",question_item:"Preview_question_item__1fkOo",link:"Preview_link__1I_sy",screen:"Preview_screen__hB4kN",locked:"Preview_locked__3n3vc",hidden:"Preview_hidden__1bsAi"}},14:function(e,t,a){e.exports={card:"task_card__U2ZyP",pic:"task_pic__3bHIu",container:"task_container__2f-ad",name:"task_name__1h5I6",info:"task_info__2rnaC",date:"task_date__-5YNn",progress:"task_progress__177e1",dot:"task_dot__v6Hso",dot_on:"task_dot_on__N6Wba",start_button:"task_start_button__2ldDr",disabled:"task_disabled__oBPik",delete_button:"task_delete_button__2QMpz",status_icon:"task_status_icon__AfAvk"}},16:function(e,t,a){e.exports={sticky_container:"Question_sticky_container__hsZAX",back_button:"Question_back_button__3imRw",question_window:"Question_question_window__1BFF8",question_number:"Question_question_number__1NoyL",timer:"Question_timer__3eq7v",question_card:"Question_question_card__94URy",slide_up:"Question_slide_up__Dw4Ih",answers_container:"Question_answers_container__1aj24",question_text:"Question_question_text__ZGQgP",animation_container:"Question_animation_container__2JuSn",control:"Question_control__1MUcQ",score_container:"Question_score_container__5squ1",score:"Question_score__3zM-I",next_question:"Question_next_question__alfBx",chevron:"Question_chevron__3c0Mi",slider:"Question_slider__3R2iI",wave:"Question_wave__2XwY3",wave_card:"Question_wave_card__3NQ20",external_waves:"Question_external_waves__tDQCH",waves:"Question_waves__3AiXI",slide_down:"Question_slide_down__2sSng"}},17:function(e,t,a){e.exports={page:"TestCreation_page__1cGVV",test_card:"TestCreation_test_card__EByRf",input_title:"TestCreation_input_title___-iHc",input:"TestCreation_input__2QYQK",custom_file_upload:"TestCreation_custom_file_upload__1EsDP",time_limit:"TestCreation_time_limit__3Uwx8",time_limit_item:"TestCreation_time_limit_item__1DttG",next:"TestCreation_next__27XT0",chevron:"TestCreation_chevron__2zmxa",select:"TestCreation_select__3UCPP"}},18:function(e,t,a){e.exports={dev_container:"AboutWindow_dev_container__2-irI",copy_warning:"AboutWindow_copy_warning__wEn4m",show:"AboutWindow_show__9M9_p",hidden:"AboutWindow_hidden__1WCZ3",hide:"AboutWindow_hide__M9cx7",slide:"AboutWindow_slide__3OUZR",developers:"AboutWindow_developers__3Rs_s",exit:"AboutWindow_exit__7HiJN",title:"AboutWindow_title__1XiA5",dev_item:"AboutWindow_dev_item__3LW-E",duty:"AboutWindow_duty__2PvdC",dev_link:"AboutWindow_dev_link__1FW4Q"}},20:function(e,t,a){e.exports={profile_card:"Profile_profile_card__2toKm",slider:"Profile_slider__2yQsw",about:"Profile_about__2isgg",bio:"Profile_bio__2dbAQ",name:"Profile_name__xPVtA",score:"Profile_score__WvT0c",level_fragment:"Profile_level_fragment__oObVy",logo:"Profile_logo__dy-qe",logo_text:"Profile_logo_text__naK3M",background:"Profile_background__xuqXd",settings:"Profile_settings__3NrcB",settings_window:"Profile_settings_window__2zLg_",settings_window_anim:"Profile_settings_window_anim__26gU2",slide_up:"Profile_slide_up__2SAww",active:"Profile_active__1Ug-k",rotate2:"Profile_rotate2__2Cc-1",disabled:"Profile_disabled__1leOl",rotate:"Profile_rotate__1kNL6",hidden_no_animation:"Profile_hidden_no_animation__HJkZR",hidden:"Profile_hidden__xLqn0",slide_down:"Profile_slide_down__2Z6th"}},213:function(e,t,a){e.exports=a(309)},22:function(e,t,a){e.exports={progress:"ProgressFragment_progress__2WbRX",score:"ProgressFragment_score__26Dam",time:"ProgressFragment_time__3lH4I",progress_item__counter:"ProgressFragment_progress_item__counter__3nbCU",progress_item__title:"ProgressFragment_progress_item__title__2ujeA",progress_item__block:"ProgressFragment_progress_item__block__LCwHM",special:"ProgressFragment_special__eFcQY"}},24:function(e,t,a){e.exports={container:"ModalAnswersCreation_container__1Iay6",sticky_container:"ModalAnswersCreation_sticky_container__27hWW",back_button:"ModalAnswersCreation_back_button__bA6Kw",content:"ModalAnswersCreation_content__1x0iT",input_title:"ModalAnswersCreation_input_title__a-TVF",input:"ModalAnswersCreation_input__3QefN",right_answer_choice:"ModalAnswersCreation_right_answer_choice__3odrH",select:"ModalAnswersCreation_select__2PEyQ",save_button:"ModalAnswersCreation_save_button__d9flf"}},28:function(e,t,a){e.exports={wrapper:"StickerCard_wrapper__p6MOP",button:"StickerCard_button__x-Sg_",card:"StickerCard_card__38Ims",img:"StickerCard_img__3bvEc",status:"StickerCard_status__2E9G6",name:"StickerCard_name__GKK99",quote:"StickerCard_quote__19XWl",control:"StickerCard_control__3Pj9B",hidden:"StickerCard_hidden__3A7vp",delete_button:"StickerCard_delete_button__2oiLJ",description:"StickerCard_description__2JQEF"}},291:function(e,t,a){e.exports=a.p+"static/media/ic_infinity_sign.da87b3ed.svg"},292:function(e,t,a){e.exports=a.p+"static/media/ic_question_status_approve.ffeffe4d.svg"},293:function(e,t,a){e.exports=a.p+"static/media/ic_question_status_decline.89161117.svg"},298:function(e,t,a){e.exports=a.p+"static/media/question.f2fed888.png"},301:function(e,t,a){e.exports=a.p+"static/media/ic_check_mark.716d93e3.svg"},302:function(e,t,a){e.exports=a.p+"static/media/ic_circle.f8285bf7.svg"},303:function(e,t,a){e.exports=a.p+"static/media/ic_locked.bd032ec8.svg"},304:function(e,t,a){e.exports=a.p+"static/media/noimage.90244350.svg"},306:function(e,t,a){e.exports=a.p+"static/media/ic_tm_logo.c8b8dd17.png"},307:function(e,t,a){e.exports=a.p+"static/media/ic_bulb.e4c81b96.svg"},308:function(e,t,a){e.exports=a.p+"static/media/test_placeholder.f208e602.svg"},309:function(e,t,a){"use strict";a.r(t);a(214),a(240),a(242),a(243),a(245),a(246),a(247),a(248),a(249),a(250),a(251),a(252),a(254),a(255),a(256),a(257),a(258),a(259),a(260),a(261),a(262),a(263),a(265),a(266),a(267),a(268),a(269),a(270),a(271),a(272),a(273),a(274),a(275),a(276),a(277),a(278),a(279),a(280),a(281),a(282);var n=a(0),i=a.n(n),r=a(116),s=a.n(r),o=a(40),c=a.n(o),l=a(1),u=a(2),d=a(3),p=a(4),m=(a(290),a(19)),_=a(12),h=a(13),v=a.n(h),f=a(22),b=a.n(f),E=function(e){return void 0===e},k=a(291),g=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),"NO_TIMER"!==(n=t.call(this,e)).props.time&&(n.state={timeM:null===e.time?0:e.time.toString().split(":")[0],timeS:null===e.time?0:e.time.toString().split(":")[1]}),n.progressItem=function(e){return"NO_TIMER"===e?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:b.a.progress_item__title},"\u0412\u0440\u0435\u043c\u044f"),i.a.createElement("div",{className:b.a.progress_item__counter},i.a.createElement("img",{src:k,alt:"infinity"}))):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:b.a.progress_item__title},e.title),i.a.createElement("div",{className:b.a.progress_item__counter},i.a.createElement("div",{className:b.a.progress_item__block},i.a.createElement("div",null,e.elements[0])),i.a.createElement("div",{className:b.a.progress_itme__separator},e.separator),i.a.createElement("div",{className:"".concat(b.a.progress_item__block," ").concat(null==e.special?"":b.a.special)},i.a.createElement("div",null,e.elements[1]))))},n}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:b.a.progress},i.a.createElement("div",{className:"".concat(b.a.progress_item," ").concat(b.a.score)},this.progressItem({title:"\u041e\u0447\u043a\u0438",elements:[this.props.currentScore,this.props.maxScore],separator:"/"})),i.a.createElement("div",{className:"".concat(b.a.progress_item," ").concat(b.a.time)},null===this.state?this.progressItem("NO_TIMER"):this.progressItem({title:"\u0412\u0440\u0435\u043c\u044f",elements:[this.state.timeM,this.state.timeS],separator:":",special:!0})))}}]),a}(i.a.Component),C=function e(){Object(l.a)(this,e)};C.PASSED=0,C.FAILED=1,C.UNTOUCHED=2,C.STARTED=3,C.SKIPPED=4;var w=C,S=a(50),N=a.n(S),y=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).loadStatusPic=function(){if(void 0===e.props.status)return a(114);switch(e.props.status){case w.PASSED:return a(292);case w.FAILED:return a(293);default:return a(114)}},e.isActive=function(){return!!(E(e.props.status)||e.props.status!==w.STARTED&&e.props.status!==w.UNTOUCHED&&e.props.status!==w.SKIPPED)},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.serialNumber;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:N.a.question_item},i.a.createElement("img",{className:N.a.question_status,src:this.loadStatusPic(),alt:"question status"}),i.a.createElement("div",{className:N.a.question_body},i.a.createElement("div",{className:N.a.title},"\u0412\u043e\u043f\u0440\u043e\u0441 # ",void 0!==e?e+1:"..")),i.a.createElement("button",{id:E(this.props.questionId)?0:this.props.questionId,className:N.a.answer,onClick:this.props.onClick,disabled:!this.isActive()})),i.a.createElement("div",{className:N.a.separator}))}}]),n}(i.a.Component),O=function e(){Object(l.a)(this,e)};O.FINISHED=0,O.NOT_FINISHED=1,O.UNTOUCHED=2;var T=O,j=function(e,t){var a=t+1,n=e.questions.filter((function(e){return e.serialNumber===a}));if(n.length>0){var i=n.filter((function(e){return e.status===w.STARTED}));if(i.length>0)return"/question/"+e.id+"/"+i[0].id;var r=n[Math.floor(Math.random()*n.length)];return"/question/"+e.id+"/"+r.id}},A=a(117),x=a.n(A),q=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onClick=function(){E(n.props.onClick)||n.props.onClick(),n.state.disabled||n.props.history.goBack()},n.state={disabled:!E(e.disabled)},n}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("button",{className:x.a.button,onClick:this.onClick})}}]),a}(i.a.Component),I=Object(_.e)(q),D=a(37),R=a.n(D),P=function e(){Object(l.a)(this,e)};P.RIGHT_ANSWER=1,P.WRONG_ANSWER=0;var M=P,L=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).getRightAnswer=function(){if(!E(e.props.question))return e.props.question.answers.find((function(e){return e.isRight===M.RIGHT_ANSWER})).answer},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.question;return i.a.createElement("div",{className:R.a.answer_block},i.a.createElement("div",{className:R.a.head},i.a.createElement("div",{className:R.a.question_label},i.a.createElement("img",{src:a(298),width:"24",height:"24",alt:"question mark"})),i.a.createElement("button",{className:R.a.exit,onClick:this.props.onClick})),i.a.createElement("div",{className:R.a.question},E(e)?"":e.questionText),i.a.createElement("div",{className:R.a.ans_title},"\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442:"),i.a.createElement("div",{className:R.a.ans},this.getRightAnswer()),i.a.createElement("div",{className:R.a.explanation_title},"\u041f\u043e\u0447\u0435\u043c\u0443?"),i.a.createElement("div",{className:R.a.explanation},E(e)?"":e.explain))}}]),n}(i.a.Component),F=a(64),Q=a.n(F),H=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).fetchData=function(){n.previewService.getHistory(n.testId,n.application.provideUser()).then((function(e){n.previewService.getTest(n.testId).then((function(t){t.questions=n.previewService.prepareQuestions(t.questions,n.state.history),n.setState({testInfo:t}),n.configureTestTimer(t);var a=n.previewService.getLastQuestion(e);n.setState({lastQuestion:a});var i=n.previewService.getStatus(a,t.questions);n.setState({testStatus:i})})),n.setState({history:e});var t=n.previewService.getCurrentScore(e);n.setState({currentScore:t})}))},n.configureTestTimer=function(e){n.testTimerHelper=n.application.provideTestTimerHelper(e,n.toResultScreen),n.testTimerHelper.subscribe((function(e){return n.setState({timer:e})}))},n.toResultScreen=function(){n.props.history.push("/result/"+n.state.testInfo.id)},n.showAnswerWindow=function(e){var t=parseInt(e.currentTarget.attributes.id.nodeValue),a=n.state.testInfo.questions.find((function(e){return e.id===t}));n.setState({answerWindow:a})},n.hideAnswerWindow=function(){n.setState({answerWindow:void 0})},n.onSwipeEnd=function(e,t){E(n.state.answerWindow)||setTimeout(n.hideAnswerWindow,50)},n.renderQuestions=function(){if(!E(n.state.testInfo)&&!E(n.state.lastQuestion)){var e=[],t=n.state.testInfo.questions.filter((function(t){return t.status!==w.UNTOUCHED&&(e.push(t.serialNumber),!0)}));return n.state.testInfo.questions.map((function(a){return a.serialNumber>n.state.lastQuestion&&!e.includes(a.serialNumber)&&(t.push(a),e.push(a.serialNumber)),a})),t.sort((function(e,t){return e.serialNumber-t.serialNumber})),t.map((function(e){return i.a.createElement("li",{key:e.id,className:v.a.question_item},i.a.createElement(y,{questionId:e.id,serialNumber:e.serialNumber,status:e.status,onClick:n.showAnswerWindow}))}))}},n.getStatusView=function(){if(E(n.state.testStatus))return"\u041d\u0435 \u043d\u0430\u0447\u0430\u0442\u043e";switch(n.state.testStatus){case T.UNTOUCHED:return"\u041d\u0435 \u043d\u0430\u0447\u0430\u0442\u043e";case T.NOT_FINISHED:return"\u041d\u0430 \u0437\u0430\u043a\u043e\u043d\u0447\u0435\u043d\u043e";case T.FINISHED:return"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e";default:return"\u041d\u0435 \u043d\u0430\u0447\u0430\u0442\u043e"}},n.getButtonText=function(){if(E(n.state.testStatus))return"\u041d\u0430\u0447\u0430\u0442\u044c";switch(n.state.testStatus){case T.NOT_FINISHED:return"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c";default:return"\u041d\u0430\u0447\u0430\u0442\u044c"}},n.getNextQuestionLink=function(){if(!E(n.state.testStatus)&&!E(n.state.testInfo)&&!E(n.state.lastQuestion)){if(n.state.testStatus===T.FINISHED)return"#";var e=j(n.state.testInfo,n.state.lastQuestion);return E(e)?"#":e}return"#"},n.application=e.application,n.previewService=n.application.providePreviewService(),n.testId=e.match.params.testId,n.state={},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentWillUnmount",value:function(){E(this.testTimerHelper)||this.application.deleteTestTimer()}},{key:"render",value:function(){var e=this.state.testInfo;return i.a.createElement(i.a.Fragment,null,i.a.createElement("section",{className:"".concat(v.a.preview_wrapper," ").concat(E(this.state.answerWindow)?"":v.a.blurred)},i.a.createElement("img",{className:v.a.background,src:E(e)?"":e.img,alt:"background"}),i.a.createElement("div",{className:v.a.sticky_container},i.a.createElement("div",{className:"".concat(v.a.back_button)},i.a.createElement(I,null))),i.a.createElement("section",{className:v.a.modal_window},i.a.createElement("div",{className:v.a.slider_wrapper},i.a.createElement("div",{className:v.a.slider})),i.a.createElement("div",{className:v.a.content_wrapper},i.a.createElement("div",{className:v.a.title},E(e)?"":e.title),i.a.createElement("div",{className:v.a.status},"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435: ",this.getStatusView()),i.a.createElement("div",{className:v.a.description},E(e)?"":e.description),i.a.createElement("div",{className:v.a.progress},i.a.createElement("div",{className:v.a.progress_title},"\u041c\u043e\u0439 \u043f\u0440\u043e\u0433\u0440\u0435\u0441\u0441"),i.a.createElement(g,{key:[this.state.currentScore,this.state.timer],maxScore:E(e)?0:e.maxScore,currentScore:E(this.state.currentScore)?0:this.state.currentScore,time:E(this.state.timer)?null:this.state.timer})),i.a.createElement("ul",{className:v.a.question_list},this.renderQuestions()))),i.a.createElement("div",{className:E(this.state.testStatus)||this.state.testStatus===T.FINISHED?v.a.hidden:v.a.button},i.a.createElement(m.b,{to:this.getNextQuestionLink(),onClick:this.toQuestionScreen,className:v.a.link},i.a.createElement("div",null,this.getButtonText())))),E(this.state.answerWindow)?"":i.a.createElement(L,{question:this.state.answerWindow,onClick:this.hideAnswerWindow}),E(this.state.answerWindow)?"":i.a.createElement(Q.a,{onSwipeEnd:this.onSwipeEnd},i.a.createElement("div",{className:v.a.screen})))}}]),a}(i.a.Component),U=Object(_.e)(H),W=a(16),B=a.n(W),V=a(85),G=a.n(V),K=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).getOnClick=function(){return e.props.disabled?function(){}:e.props.isRightAnswer?e.props.onRightAnswer:e.props.onWrongAnswer},e}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:G.a.answer_item,onClick:this.getOnClick()},"str"===this.props.answerType?i.a.createElement("div",{className:G.a.text},this.props.answerText):"")}}]),a}(i.a.Component),Z=a(45),z=a.n(Z),X=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var i;return Object(l.a)(this,n),i=t.call(this,e),a(300).create(document.getElementById("canvas"),{resize:!0,useWorker:!0})(),i}return Object(u.a)(n,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("canvas",{className:z.a.canvas}),i.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 130.2 130.2",height:"70"},i.a.createElement("circle",{className:z.a.path_circle,fill:"#2DC471",stroke:"#FFFFFF",strokeWidth:"0",strokeMiterlimit:"10",cx:"65.1",cy:"65.1",r:"62.1"}),i.a.createElement("polyline",{className:z.a.path_check,fill:"#2DC471",stroke:"#FFFFFF",strokeWidth:"10",strokeLinecap:"round",strokeMiterlimit:"10",points:"100.2,40.2 51.5,88.8 29.8,67.5 "})))}}]),n}(i.a.Component),J=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 130.2 130.2",height:"70"},i.a.createElement("circle",{className:z.a.path_circle,fill:"#F44336",stroke:"#FFFFFF",strokeWidth:"0",strokeMiterlimit:"10",cx:"65.1",cy:"65.1",r:"62.1"}),i.a.createElement("line",{className:z.a.path_line,fill:"none",stroke:"#FFFFFF",strokeWidth:"10",strokeLinecap:"round",strokeMiterlimit:"10",x1:"34.4",y1:"37.9",x2:"95.8",y2:"92.3"}),i.a.createElement("line",{className:z.a.path_line,fill:"none",stroke:"#FFFFFF",strokeWidth:"10",strokeLinecap:"round",strokeMiterlimit:"10",x1:"95.8",y1:"38",x2:"34.4",y2:"92.2"}))}}]),a}(i.a.Component),Y=function e(){Object(l.a)(this,e)};Y.SUCCESS="success",Y.ERROR="error",Y.WARNING="warning",Y.IMPACT_HEAVY="heavy",Y.IMPACT_MEDIUM="medium",Y.IMPACT_LIGHT="light";var $=Y,ee=function e(){Object(l.a)(this,e)};ee.IN_PROGRESS=0,ee.SKIPPED=1,ee.FAILED=2,ee.PASSED=3;var te=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).downloadData=function(){n.questionService.getTest(n.state.testId).then((function(e){var t=e.questions.find((function(e){return e.id===n.state.questionId}));n.questionService.startQuestion(t.id).then((function(t){t.ok&&n.configureTestTimer(e)})),n.setState({question:t}),n.setState({test:e});var a=[],i=[];e.questions.map((function(e){return i.includes(e.serialNumber)||(i.push(e.serialNumber),a.push(e)),e})),n.setState({questionsLength:a.length})}))},n.configureTestTimer=function(e){E(n.testTimerHelper)&&(n.testTimerHelper=n.application.provideTestTimerHelper(e,n.toResultScreen),n.testTimerHelper.subscribe((function(e){return n.setState({timer:e})})))},n.toResultScreen=function(){n.props.history.replace("/result/"+n.state.testId)},n.prepareList=function(){if(!E(n.state.question)){var e=[];return n.state.question.answers.map((function(t){return e.push(i.a.createElement(K,{disabled:n.state.status!==ee.IN_PROGRESS,key:t.id,answerType:"str",answerText:t.answer,onRightAnswer:n.onRightAnswer,onWrongAnswer:n.onWrongAnswer,isRightAnswer:t.isRight===M.RIGHT_ANSWER})),t})),e}},n.onRightAnswer=function(){n.setState({animation:"correct"}),n.questionService.vibrate($.SUCCESS),n.questionService.passQuestion(n.state.questionId).then((function(e){e.ok&&setTimeout((function(){n.setState({status:ee.IN_PROGRESS}),n.setState({animation:void 0}),n.startNextQuestion(w.PASSED)}),1e3)})),n.setState({status:ee.PASSED})},n.onWrongAnswer=function(){n.setState({animation:"incorrect"}),n.questionService.vibrate($.ERROR),n.questionService.failQuestion(n.state.questionId).then((function(e){e.ok&&setTimeout((function(){n.setState({status:ee.IN_PROGRESS}),n.setState({animation:void 0}),n.startNextQuestion(w.PASSED)}),1e3)})),n.setState({status:ee.FAILED})},n.onSkip=function(){n.questionService.vibrate($.WARNING),n.questionService.skipQuestion(n.state.questionId).then((function(e){e.ok&&(n.setState({status:ee.IN_PROGRESS}),n.startNextQuestion(w.SKIPPED))})),n.setState({status:ee.SKIPPED})},n.application=e.application,n.questionService=n.application.provideQuestionService(),n.state={status:ee.IN_PROGRESS,questionId:parseInt(e.match.params.questionId),testId:parseInt(e.match.params.testId),_position:10,animation:void 0},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.downloadData()}},{key:"componentWillUnmount",value:function(){E(this.testTimerHelper)||this.application.deleteTestTimer()}},{key:"startNextQuestion",value:function(e){var t=this;if(!E(this.state.test)&&!E(this.state.question)){this.state.test.questions.map((function(a){return a.id===t.state.questionId&&(a.status=e),a}));var a=j(this.state.test,this.state.question.serialNumber);if(E(a))this.props.history.replace("/result/"+this.state.testId);else{var n=parseInt(a.split("/")[3]);this.setState({questionId:n}),this.downloadData()}}}},{key:"render",value:function(){var e=this.state.question;return i.a.createElement("section",{className:B.a.question_window},i.a.createElement("div",{className:B.a.sticky_container},i.a.createElement("div",{className:B.a.back_button},i.a.createElement(I,{disabled:this.state.status!==ee.IN_PROGRESS||void 0}))),i.a.createElement("div",{className:B.a.about},i.a.createElement("div",{className:B.a.question_number},E(e)?"":"\u0412\u043e\u043f\u0440\u043e\u0441 "+(e.serialNumber+1)+"/"+this.state.questionsLength),i.a.createElement("div",{className:B.a.timer},E(this.state.timer)?"":i.a.createElement(i.a.Fragment,null,"\u041e\u0441\u0442\u0430\u0432\u0448\u0435\u0435\u0441\u044f \u0432\u0440\u0435\u043c\u044f: ",i.a.createElement("span",null,this.state.timer)))),i.a.createElement("div",{className:"".concat(B.a.question_card," ")},void 0===this.state.animation?i.a.createElement("div",{className:B.a.question_text},E(e)?"":e.questionText):i.a.createElement("div",{className:B.a.animation_container},"correct"===this.state.animation?i.a.createElement(X,null):"","incorrect"===this.state.animation?i.a.createElement(J,null):""),i.a.createElement("section",{className:B.a.answers_container},E(e)?[]:this.prepareList()),i.a.createElement("div",{className:B.a.control},i.a.createElement("div",{className:B.a.score_container},i.a.createElement("div",null,"\u041e\u0447\u043a\u0438: ",i.a.createElement("span",{className:B.a.score},E(e)?0:e.reward))),i.a.createElement("div",{className:B.a.next_question,onClick:this.state.status===ee.IN_PROGRESS?this.onSkip:function(){}},i.a.createElement("div",null,"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439"),i.a.createElement("div",{className:B.a.chevron}))),i.a.createElement("div",{className:B.a.wave_card})),i.a.createElement("div",{className:"".concat(B.a.wave_card," ").concat(B.a.external_waves)}))}}]),a}(i.a.Component),ae=Object(_.e)(te),ne=a(5),ie=a(23);var re=function e(t){this.message=t,"captureStackTrace"in Error?Error.captureStackTrace(this,e):this.stack=(new Error).stack},se=function e(){Object(l.a)(this,e)};se.STARTED=0,se.FAILED=1,se.PASSED=2,se.SKIPPED=3;var oe=se,ce=a(65),le=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return a}(Object(ce.a)(Error)),ue=function(e){if(isNaN(e.getTime()))throw new le;return e.getTime()},de=function(e){return new Date(e)},pe=function(){function e(t,a,n){var i=this;Object(l.a)(this,e),this.prepareTests=function(e){return i.user.then((function(t){var a=[];return e.map((function(e){return a.push({id:e.id,title:e.title,img:e.img,date:e.date,progress:i.getProgress(e.questions,e.id,t.id)}),e})),a}))},this.api=t,this.user=a,this.testRepo=n}return Object(u.a)(e,[{key:"getTests",value:function(){var e=this;return this.api.requestTests().then((function(t){return t.map((function(t){return e.testRepo.push(t.id,t)})),e.prepareTests(t)}))}},{key:"getTestFromRepo",value:function(e){return this.testRepo.get(e)}},{key:"deleteTest",value:function(e){var t=this;return this.testRepo.remove(e),this.api.deleteTest(e).then((function(e){return t.prepareTests(e)}))}},{key:"sort",value:function(e){return e.sort(this.compare)}},{key:"getProgress",value:function(e,t,a){try{return this.api.requestHistory(a,t).then((function(t){if(!(t.length>0))return 0;var a=t.filter((function(e){return e.eventCode!==oe.STARTED}));if(0===a.length)return 0;var n=(a.reduce((function(e,t){return e.question.serialNumber>t.question.serialNumber?e:t})).question.serialNumber+1)/(e.reduce((function(e,t){return e.serialNumber>t.serialNumber?e:t})).serialNumber+1);return 0===n?0:1===n?3:n>.6?2:n>0?1:void 0}))}catch(n){if(n instanceof re)return 0}}},{key:"compare",value:function(e,t){var a=t.date,n=e.props.date;return de(a)-de(n)}}]),e}(),me=function(){function e(t){Object(l.a)(this,e),this.api=t}return Object(u.a)(e,[{key:"getUser",value:function(){return this.api.getVkProfile()}}]),e}(),_e=function(){function e(t,a,n){Object(l.a)(this,e),this.api=t,this.testRepo=a,this.user=n}return Object(u.a)(e,[{key:"getHistory",value:function(e){var t=this;return this.user.then((function(a){return t.api.requestHistory(a.id,e)}))}},{key:"getTest",value:function(e){var t=this.testRepo.get(e);return void 0===t?(t=this.api.requestTest(e),this.testRepo.push(e,t)):t=new Promise((function(e,a){return e(t)})),t}},{key:"vibrate",value:function(e){this.api.vibrateNotification(e)}},{key:"startQuestion",value:function(e){var t=this;return this.user.then((function(a){return t.api.sendHistoryEvent(e,a.id,oe.STARTED)}))}},{key:"failQuestion",value:function(e){var t=this;return this.user.then((function(a){return t.api.sendHistoryEvent(e,a.id,oe.FAILED)}))}},{key:"passQuestion",value:function(e){var t=this;return this.user.then((function(a){return t.api.sendHistoryEvent(e,a.id,oe.PASSED)}))}},{key:"skipQuestion",value:function(e){var t=this;return this.user.then((function(a){return t.api.sendHistoryEvent(e,a.id,oe.SKIPPED)}))}}]),e}(),he=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return a}(Object(ce.a)(Error)),ve=function(){function e(t){Object(l.a)(this,e),this.api=t}return Object(u.a)(e,[{key:"getUser",value:function(){var e=this;return this.api.getVkProfile().then((function(t){return e.api.requestUserById(t.id).then((function(a){return e.mergeUsers(t,a)})).catch((function(a){if(a instanceof he)return e.uploadUser(t).then((function(a){return e.mergeUsers(t,a)}))}))}))}},{key:"uploadUser",value:function(e){var t={id:e.id,score:0,bdate:void 0!==e.bdate?e.bdate:null,role:"user"};return this.api.addUser(t)}},{key:"mergeUsers",value:function(e,t){return t.photo_200=e.photo_200,t.first_name=e.first_name,t.last_name=e.last_name,t}}]),e}(),fe=function(){function e(){Object(l.a)(this,e)}return Object(u.a)(e,null,[{key:"getCurrentScore",value:function(e){var t=this,a=e.sort((function(e,a){return t.compare(e.date,a.date)}));return a.length>0?a[0].score:0}},{key:"getLastQuestion",value:function(e){if(0===e.length)return-1;var t=e.filter((function(e){return e.eventCode!==oe.STARTED}));return t.length>0?t.reduce((function(e,t){return t.question.serialNumber>e.question.serialNumber?t:e})).question.serialNumber:-1}},{key:"getStatus",value:function(e,t){if(void 0!==e&&void 0!==t&&t.length>0){var a=t.reduce((function(e,t){return e.serialNumber>t.serialNumber?e:t})).serialNumber;return e<0?T.UNTOUCHED:e>=0&&e<a?T.NOT_FINISHED:T.FINISHED}return T.UNTOUCHED}}]),e}();fe.compare=function(e,t){return de(t)-de(e)};var be=fe,Ee=function(){function e(t,a){Object(l.a)(this,e),this.api=t,this.testRepo=a}return Object(u.a)(e,[{key:"getTest",value:function(e){var t=this.testRepo.get(e);return void 0===t?(t=this.api.requestTest(e),this.testRepo.push(e,t)):t=new Promise((function(e,a){return e(t)})),t}},{key:"getHistory",value:function(e,t){var a=this;return t.then((function(t){return a.api.requestHistory(t.id,e)}))}},{key:"getLastQuestion",value:function(e){return be.getLastQuestion(e)}},{key:"getStatus",value:function(e,t){return be.getStatus(e,t)}},{key:"prepareQuestions",value:function(e,t){if(void 0!==e&&void 0!==t)return 0===t.length?e.map((function(e){return e.status=w.UNTOUCHED,e})):e.map((function(e){var a=t.filter((function(t){return t.question.id===e.id}));if(a.length>0){var n;switch(a.sort((function(e,t){return be.compare(e.date,t.date)})),a[0].eventCode){case oe.STARTED:n=w.STARTED;break;case oe.FAILED:n=w.FAILED;break;case oe.PASSED:n=w.PASSED;break;case oe.SKIPPED:n=w.SKIPPED;break;default:n=void 0}return e.status=n,e}return e.status=w.UNTOUCHED,e}))}},{key:"getCurrentScore",value:function(e){return be.getCurrentScore(e)}}]),e}(),ke=function(){function e(){Object(l.a)(this,e),this.cache={}}return Object(u.a)(e,[{key:"push",value:function(e,t){this.cache[e]=t}},{key:"remove",value:function(e){delete this.cache[e]}},{key:"get",value:function(e){return this.cache[e]}},{key:"clear",value:function(){this.cache={}}}]),e}(),ge=a(39),Ce=function e(){Object(l.a)(this,e)};Ce.NOT_FOUND=404,Ce.OK=200;var we=Ce,Se=function(){function e(){Object(l.a)(this,e),this.URL="https://atake.live:8443/v1/",this.PARAMS=window.location.search,this.ALLOW_VIBRATION=!E(window.navigator.vibrate)}return Object(u.a)(e,[{key:"requestTime",value:function(){var e=this.URL+"time";return fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))}},{key:"requestTests",value:function(){var e=this.URL+"tests";return fetch(e,{method:"GET",headers:{params:this.PARAMS,"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}},{key:"requestTest",value:function(e){var t=this.URL+"tests/"+e;return fetch(t,{method:"GET",headers:{params:this.PARAMS,"Content-Type":"application/json"}}).then((function(e){return e.json()}))}},{key:"saveTest",value:function(e){for(var t=new FormData,a=0,n=Object.entries(e);a<n.length;a++){var i=Object(ge.a)(n[a],2),r=i[0],s=i[1];t.append(r,s)}var o=this.URL+"tests/";return fetch(o,{method:"POST",body:t,headers:{params:this.PARAMS}}).then((function(e){return e.json()}))}},{key:"updateTest",value:function(e){for(var t=this.URL+"tests/",a=new FormData,n=0,i=Object.entries(e);n<i.length;n++){var r=Object(ge.a)(i[n],2),s=r[0],o=r[1];"questions"===s?a.append(s,JSON.stringify(o)):a.append(s,o)}fetch(t,{method:"PATCH",body:a,headers:{params:this.PARAMS}})}},{key:"deleteTest",value:function(e){var t=this.URL+"tests/"+e;return fetch(t,{method:"DELETE",headers:{params:this.PARAMS,"Content-Type":"application/json"}}).then((function(e){return e.json()}))}},{key:"requestHistory",value:function(e,t){var a=this.URL+"users/"+e+"/get_history/"+t;return fetch(a,{method:"GET",headers:{"Content-Type":"application/json",params:this.PARAMS}}).then((function(e){return e.json()})).catch((function(e){if(e.status===we.NOT_FOUND)throw re()}))}},{key:"getVkProfile",value:function(){return c.a.send("VKWebAppGetUserInfo").catch((function(e){return console.log(e)}))}},{key:"vibrateNotification",value:function(e){if(-1!==navigator.userAgent.indexOf("iPhone"))c.a.send("VKWebAppTapticNotificationOccurred",{type:e});else if(this.ALLOW_VIBRATION)switch(e){case $.SUCCESS:window.navigator.vibrate([200,50,100]);break;case $.ERROR:window.navigator.vibrate([200,50,200]);break;default:window.navigator.vibrate(200)}}},{key:"vibrateSelectionChanged",value:function(){-1!==navigator.userAgent.indexOf("iPhone")?c.a.send("VKWebAppTapticSelectionChanged",{}):this.ALLOW_VIBRATION&&window.navigator.vibrate(100)}},{key:"vibrateImpact",value:function(e){-1!==navigator.userAgent.indexOf("iPhone")?c.a.send("VKWebAppTapticImpactOccurred",{style:e}):this.ALLOW_VIBRATION&&window.navigator.vibrate(400)}},{key:"requestUserById",value:function(e){var t=this.URL+"users/"+e;return fetch(t,{method:"GET",headers:{"Content-Type":"application/json",params:this.PARAMS}}).then((function(e){return e.json()})).then((function(e){return e.status===we.NOT_FOUND?Promise.reject(new he("Couldn't get user from "+t)):e}))}},{key:"addUser",value:function(e){var t=this.URL+"users/"+e.id;return fetch(t,{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json",params:this.PARAMS}}).then((function(e){return e.json()}))}},{key:"sendHistoryEvent",value:function(e,t,a){var n=this.URL+"users/"+t+"/send_event/"+e;return fetch(n,{method:"POST",body:a,headers:{"Content-Type":"application/json",params:this.PARAMS}})}},{key:"requestStickers",value:function(){var e=this.URL+"stickers";return fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))}},{key:"setActiveSticker",value:function(e,t){var a=this.URL+"users/"+e+"/set_active_sticker/"+t;return fetch(a,{method:"PATCH",headers:{"Content-Type":"application/json",params:this.PARAMS}}).then((function(e){return e.json()}))}},{key:"buySticker",value:function(e,t){var a=this.URL+"users/"+e+"/buy_sticker/"+t;return fetch(a,{method:"PATCH",headers:{"Content-Type":"application/json",params:this.PARAMS}}).then((function(e){return e.json()}))}},{key:"saveSticker",value:function(e){for(var t=new FormData,a=0,n=Object.entries(e);a<n.length;a++){var i=Object(ge.a)(n[a],2),r=i[0],s=i[1];t.append(r,s)}var o=this.URL+"stickers/";return fetch(o,{method:"POST",body:t,headers:{params:this.PARAMS}}).then((function(e){return e.json()}))}},{key:"deleteSticker",value:function(e){var t=this.URL+"stickers/"+e;return fetch(t,{method:"DELETE",headers:{params:this.PARAMS,"Content-Type":"application/json"}}).then((function(e){return e.json()}))}}]),e}(),Ne=function(){function e(t){Object(l.a)(this,e),this.api=t}return Object(u.a)(e,[{key:"getAllStickers",value:function(){return this.api.requestStickers()}},{key:"setActiveSticker",value:function(e,t){return this.api.setActiveSticker(e,t)}},{key:"vibrate",value:function(){this.api.vibrateSelectionChanged()}},{key:"vibrateImpact",value:function(e){this.api.vibrateImpact(e)}},{key:"buySticker",value:function(e,t){return this.api.buySticker(e,t)}},{key:"saveSticker",value:function(e){return this.api.saveSticker(e)}},{key:"deleteSticker",value:function(e){return this.api.deleteSticker(e)}}]),e}(),ye=function(){function e(t,a){Object(l.a)(this,e),this.api=t,this.user=a}return Object(u.a)(e,[{key:"getData",value:function(e){var t=this;if(!E(e))return this.user.then((function(a){var n=t.api.requestTest(e),i=t.api.requestHistory(a.id,e);return Promise.all([n,i]).then((function(e){var t=Object(ge.a)(e,2),a=t[0],n=t[1],i=be.getCurrentScore(n);return{current:i,max:a.maxScore,percent:Math.round(i/a.maxScore*100)}}))}))}}]),e}(),Oe=function(){function e(t){Object(l.a)(this,e),this.api=t}return Object(u.a)(e,[{key:"getLimitation",value:function(e){return!E(e)&&!E(e.timeToComplete)&&null!==e.timeToComplete&&"null"!==e.timeToComplete}},{key:"getDelay",value:function(e){return!E(e)&&!E(e.date)&&de(e.date)>new Date}}]),e}(),Te=function(){function e(t,a){Object(l.a)(this,e),this.api=t,this.test=a,this.changeCounter=0,this.isNew=E(a.id)}return Object(u.a)(e,[{key:"getTest",value:function(){return this.test}},{key:"updateValue",value:function(e,t){this.changeCounter++,this.test[e]=t}},{key:"sendChanges",value:function(){var e=this;this.changeCounter>0&&(this.isNew?E(this.test.title)||this.api.saveTest(this.prepareTest()).then((function(t){e.test=t,e.isNew=!1})):this.api.updateTest(this.prepareTest()),this.changeCounter=0)}},{key:"prepareTest",value:function(){var e=this.test;try{e.date=E(e.date)?ue(new Date):ue(new Date(e.date))}catch(n){}var t=0;if(!E(e.questions)){e.questions=e.questions.filter((function(e){return"PLACEHOLDER"!==e.questionText}));var a=[];e.questions.map((function(e){return e.id<0&&delete e.id,e.answers.map((function(e){return delete e.serialNumber,e})),a.includes(e.serialNumber)||(t+=e.reward,a.push(e.serialNumber)),E(e.reward)&&(e.reward=0),e}))}return e.maxScore=t,e}}]),e}(),je=function e(t,a,n,i){var r=this;Object(l.a)(this,e),this.getStartEventTime=function(){r.startEventTimer=r.userPromise.then((function(e){return r.api.requestHistory(e.id,r.test.id).then((function(t){var a=t.filter((function(e){return 0===e.question.serialNumber&&e.eventCode===oe.STARTED}));return r.lastEvent=r.getLastEvent(t),r.user=e,a.length>0?r.lastEvent.length>0?"NO_TIMER":a[0].date:"NOT_STARTED"}))}))},this.subscribe=function(e){var t=r.api.requestTime();return r.startEventTimer.then((function(a){"NO_TIMER"===a?e("NO_TIMER"):"NOT_STARTED"===a?e(r.test.timeToComplete):t.then((function(t){var n=new Date(t)-de(a),i=r.test.timeToComplete.split(":"),s=Object(ge.a)(i,2),o=s[0],c=s[1],l=1e3*(60*(o=parseInt(o))+(c=parseInt(c)))-n;r.processDelay(l,e)}))}))},this.getDelay=function(e,t){var a=new Date(e)-de(t),n=r.test.timeToComplete.split(":"),i=Object(ge.a)(n,2),s=i[0],o=i[1];return 1e3*(60*(s=parseInt(s))+(o=parseInt(o)))-a},this.processDelay=function(e,t){if(e>0){e=Math.round(e/1e3);var a=Math.floor(e/60),n=e%60;t("".concat(a,":").concat(n));var i=setInterval((function(){--n<0&&(n=59,a--),a<0?(r.finishTest(),clearInterval(i)):t("".concat(a,":").concat(n))}),1e3);return r.subscription=i,i}r.finishTest()},this.finishTest=function(){var e=!1;if(r.lastEvent.length>0&&(e=r.lastEvent.filter((function(e){return e.eventCode!==oe.STARTED})).length>0),!e){var t=r.test.questions.reduce((function(e,t){return e.serialNumber>=t.serialNumber?e:t}));r.api.sendHistoryEvent(t.id,r.user.id,oe.SKIPPED),r.callback()}},this.getLastEvent=function(e){var t=r.test.questions.reduce((function(e,t){return e.serialNumber>t.serialNumber?e:t})).serialNumber;return e.filter((function(e){return e.question.serialNumber===t}))},this.clear=function(){clearInterval(r.subscription)},this.test=t,this.callback=a,this.api=n,this.userPromise=i,null===this.test.timeToComplete||"null"===this.test.timeToComplete?this.startEventTimer=Promise.resolve("NO_TIMER"):this.getStartEventTime()},Ae=Object(ie.a)("testListService"),xe=Object(ie.a)("profileService"),qe=Object(ie.a)("stickerShopService"),Ie=Object(ie.a)("questionService"),De=Object(ie.a)("userService"),Re=Object(ie.a)("resultService"),Pe=Object(ie.a)("user"),Me=Object(ie.a)("api"),Le=Object(ie.a)("previewService"),Fe=Object(ie.a)("testRepo"),Qe=Object(ie.a)("testCreationService"),He=Object(ie.a)("testEditHelper"),Ue=Object(ie.a)("testTimer"),We=function(){function e(){Object(l.a)(this,e),Object.defineProperty(this,Ae,{writable:!0,value:void 0}),Object.defineProperty(this,xe,{writable:!0,value:void 0}),Object.defineProperty(this,qe,{writable:!0,value:void 0}),Object.defineProperty(this,Ie,{writable:!0,value:void 0}),Object.defineProperty(this,De,{writable:!0,value:void 0}),Object.defineProperty(this,Re,{writable:!0,value:void 0}),Object.defineProperty(this,Pe,{writable:!0,value:void 0}),Object.defineProperty(this,Me,{writable:!0,value:void 0}),Object.defineProperty(this,Le,{writable:!0,value:void 0}),Object.defineProperty(this,Fe,{writable:!0,value:void 0}),Object.defineProperty(this,Qe,{writable:!0,value:void 0}),Object.defineProperty(this,He,{writable:!0,value:void 0}),Object.defineProperty(this,Ue,{writable:!0,value:void 0})}return Object(u.a)(e,[{key:"provideTestRepo",value:function(){return E(Object(ne.a)(this,Fe)[Fe])&&(Object(ne.a)(this,Fe)[Fe]=new ke),Object(ne.a)(this,Fe)[Fe]}},{key:"provideTestListService",value:function(){return E(Object(ne.a)(this,Ae)[Ae])&&(Object(ne.a)(this,Ae)[Ae]=new pe(this.provideApi(),this.provideUser(),this.provideTestRepo())),Object(ne.a)(this,Ae)[Ae]}},{key:"provideApi",value:function(){return E(Object(ne.a)(this,Me)[Me])&&(Object(ne.a)(this,Me)[Me]=new Se),Object(ne.a)(this,Me)[Me]}},{key:"provideProfileService",value:function(){return E(Object(ne.a)(this,xe)[xe])&&(Object(ne.a)(this,xe)[xe]=new me(this.provideApi())),Object(ne.a)(this,xe)[xe]}},{key:"provideStickerShopService",value:function(){return E(Object(ne.a)(this,qe)[qe])&&(Object(ne.a)(this,qe)[qe]=new Ne(this.provideApi())),Object(ne.a)(this,qe)[qe]}},{key:"providePreviewService",value:function(){return E(Object(ne.a)(this,Le)[Le])&&(Object(ne.a)(this,Le)[Le]=new Ee(this.provideApi(),this.provideTestRepo())),Object(ne.a)(this,Le)[Le]}},{key:"provideUser",value:function(){return E(Object(ne.a)(this,Pe)[Pe])&&(Object(ne.a)(this,Pe)[Pe]=this.provideUserService().getUser()),Object(ne.a)(this,Pe)[Pe]}},{key:"deleteUser",value:function(){Object(ne.a)(this,Pe)[Pe]=void 0}},{key:"provideUserService",value:function(){return E(Object(ne.a)(this,De)[De])&&(Object(ne.a)(this,De)[De]=new ve(this.provideApi())),Object(ne.a)(this,De)[De]}},{key:"provideQuestionService",value:function(){return E(Object(ne.a)(this,Ie)[Ie])&&(Object(ne.a)(this,Ie)[Ie]=new _e(this.provideApi(),this.provideTestRepo(),this.provideUser())),Object(ne.a)(this,Ie)[Ie]}},{key:"provideResultService",value:function(){return E(Object(ne.a)(this,Re)[Re])&&(Object(ne.a)(this,Re)[Re]=new ye(this.provideApi(),this.provideUser())),Object(ne.a)(this,Re)[Re]}},{key:"provideTestCreationService",value:function(){return E(Object(ne.a)(this,Qe)[Qe])&&(Object(ne.a)(this,Qe)[Qe]=new Oe(this.provideApi())),Object(ne.a)(this,Qe)[Qe]}},{key:"createTestEditHelper",value:function(e){Object(ne.a)(this,He)[He]=new Te(this.provideApi(),e)}},{key:"provideTestEditHelper",value:function(){return Object(ne.a)(this,He)[He]}},{key:"deleteTestEditHelper",value:function(){Object(ne.a)(this,He)[He]=void 0}},{key:"provideTestTimerHelper",value:function(e,t){return E(Object(ne.a)(this,Ue)[Ue])&&(Object(ne.a)(this,Ue)[Ue]=new je(e,t,this.provideApi(),this.provideUser())),Object(ne.a)(this,Ue)[Ue]}},{key:"deleteTestTimer",value:function(){E(Object(ne.a)(this,Ue)[Ue])||(Object(ne.a)(this,Ue)[Ue].clear(),Object(ne.a)(this,Ue)[Ue]=void 0)}}]),e}(),Be=a(86),Ve=a.n(Be),Ge=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onBackClick=function(){n.state.disabled||(E(n.props.onClick)||n.props.onClick(),n.props.history.goBack())},n.state={disabled:!E(e.disabled)},n}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{style:this.props.style,className:Ve.a.header},i.a.createElement("button",{className:Ve.a.exit_button,onClick:this.onBackClick}))}}]),a}(i.a.Component),Ke=Object(_.e)(Ge),Ze=a(28),ze=a.n(Ze),Xe=a(66),Je=a.n(Xe),Ye=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={focus:e.focus},n}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"".concat(Je.a.container," ").concat(this.state.focus?Je.a.focus:"")},i.a.createElement("svg",{width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{d:"M21.111 7.7852C22.8292 7.7852 24.2221 6.39246 24.2221 4.67446C24.2221 2.95646 22.8292 1.56372 21.111 1.56372C19.3927 1.56372 17.9998 2.95646 17.9998 4.67446C17.9998 6.39246 19.3927 7.7852 21.111 7.7852ZM21.111 3.11909C21.9701 3.11909 22.6666 3.81546 22.6666 4.67446C22.6666 5.53346 21.9701 6.22983 21.111 6.22983C20.2519 6.22983 19.5554 5.53346 19.5554 4.67446C19.5554 3.81546 20.2518 3.11909 21.111 3.11909Z",fill:"black"}),i.a.createElement("path",{d:"M24.555 9.19516L23.0539 9.60266C24.6449 15.4197 21.2184 21.425 15.4005 23.0158C9.58266 24.6066 3.57661 21.1805 1.98559 15.3635C0.394569 9.54643 3.82108 3.54114 9.63891 1.95034C11.8666 1.34122 14.2301 1.45389 16.3897 2.27221L16.9381 0.817158C10.485 -1.6327 3.26739 1.6119 0.81725 8.06416C-1.63289 14.5164 1.6121 21.733 8.06524 24.1828C14.5184 26.6327 21.7359 23.3881 24.1861 16.9358C25.1263 14.4599 25.2555 11.7493 24.555 9.19516Z",fill:"black"}),i.a.createElement("path",{d:"M5.94409 12.4513C5.94409 16.1021 8.90402 19.0616 12.5553 19.0616C16.2066 19.0616 19.1665 16.1021 19.1665 12.4513C19.1665 8.80053 16.2066 5.841 12.5553 5.841C8.90577 5.84528 5.94837 8.80233 5.94409 12.4513ZM17.611 12.4513C17.611 15.2431 15.3475 17.5063 12.5553 17.5063C9.76314 17.5063 7.49967 15.2431 7.49967 12.4513C7.49967 9.65953 9.76314 7.39637 12.5553 7.39637C15.346 7.39978 17.6075 9.66099 17.611 12.4513Z",fill:"black"}),i.a.createElement("path",{d:"M10.9997 9.34058H9.44415V10.8959H10.9997V9.34058Z",fill:"black"}),i.a.createElement("path",{d:"M15.6664 10.8959H14.1108V12.4513H15.6664V10.8959Z",fill:"black"}),i.a.createElement("path",{d:"M12.5553 12.4514H10.9997V14.0067H12.5553V12.4514Z",fill:"black"}),i.a.createElement("path",{d:"M15.6664 14.0067H14.1108V15.5621H15.6664V14.0067Z",fill:"black"})),i.a.createElement("span",{className:Je.a.score},this.props.score))}}]),a}(i.a.Component),$e=function e(){Object(l.a)(this,e)};$e.ACTIVE=0,$e.AVAILABLE=1,$e.LOCKED=2;var et=$e,tt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e;switch(this.props.status){case et.ACTIVE:e=a(301);break;case et.AVAILABLE:e=a(302);break;default:e=a(303)}return i.a.createElement("img",{src:e,alt:"obtain mark"})}}]),n}(i.a.Component),at=function e(){Object(l.a)(this,e)};at.USER="user",at.ADMIN="admin";var nt=at,it=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).sendData=function(){n.props.onDeleteClick(n.props.id)},n.state={scoreFocus:parseInt(e.scoreFocus)===e.id},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.id.toString();return i.a.createElement("div",{className:ze.a.wrapper},this.props.onEditMode===nt.ADMIN?i.a.createElement("div",{className:ze.a.delete_button},i.a.createElement("div",{id:this.props.id,onClick:this.sendData})):"",i.a.createElement("div",{id:this.props.id,className:ze.a.card,onClick:this.props.status===et.AVAILABLE?this.props.onSelect:function(){}},i.a.createElement("img",{className:ze.a.img,src:this.props.img,alt:"sticker"}),i.a.createElement("div",{className:ze.a.content},i.a.createElement("div",{className:ze.a.name},this.props.name),i.a.createElement("div",{className:ze.a.quote},"\xab"+this.props.quote+"\xbb"),i.a.createElement("div",{className:ze.a.description},i.a.createElement("div",null,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"),this.props.description)),i.a.createElement("div",{className:ze.a.control},this.props.status===et.LOCKED?i.a.createElement(Ye,{key:this.state.scoreFocus,score:this.props.cost,focus:this.state.scoreFocus}):"",i.a.createElement("div",{className:ze.a.status},i.a.createElement(tt,{status:this.props.status})))),i.a.createElement("button",{className:"".concat(ze.a.button," ").concat(this.props.status===et.LOCKED?"":ze.a.hidden),id:e,onClick:this.props.onBuyClick},"\u041a\u0443\u043f\u0438\u0442\u044c"))}}]),a}(i.a.Component),rt=a(33),st=a.n(rt),ot=a(11),ct=a.n(ot),lt=a(67),ut=a.n(lt),dt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:ut.a.window},i.a.createElement("div",{className:ut.a.slider_wrapper},i.a.createElement("div",{className:ut.a.slider})),this.props.children)}}]),a}(i.a.Component),pt=a(87),mt=a.n(pt),_t=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onChange=function(e){var t=e.target.value;n.setState({value:t}),E(n.props.autoResize)||(n.textAreaRef.current.style.height="",n.textAreaRef.current.style.height=Math.min(120,n.textAreaRef.current.scrollHeight)+"px"),E(n.props.onChange)||(E(n.props.id)?n.state.onChange(t):n.state.onChange(t,n.props.id))},n.textAreaRef=i.a.createRef(),n.state={rows:E(e.rows)?3:e.rows,value:e.placeholder,maxLength:e.maxLength,onChange:e.onChange},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){E(this.props.autoResize)||(this.textAreaRef.current.style.height="",this.textAreaRef.current.style.height=Math.min(120,this.textAreaRef.current.scrollHeight)+"px")}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("textarea",{rows:this.state.rows,maxLength:this.state.maxLength,ref:this.textAreaRef,className:mt.a.input,value:this.state.value,onChange:this.onChange}),E(this.state.maxLength)?"":i.a.createElement("div",{className:mt.a.counter},"".concat(this.state.value.length," / ").concat(this.state.maxLength)))}}]),a}(i.a.Component),ht=a(119),vt=a.n(ht),ft=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).renderOptions=function(e){var t=[];for(var a in e)t.push(i.a.createElement("option",{value:a},e[a]));return t},e}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:vt.a.select},i.a.createElement("select",{name:this.props.name,value:this.props.value,onChange:this.props.onChange},this.renderOptions(this.props.options)))}}]),a}(i.a.Component),bt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).onBackClick=function(){i.props.onBackClick()},i.onStickerPriceChange=function(e){i.setState({cost:parseInt(e)+1})},i.uploadFile=function(e){i.setState({file:e.target.files[0],filename:e.target.files[0].name,img:URL.createObjectURL(e.target.files[0]),btnWarning:!1})},i.onNameChange=function(e){i.setState({name:e})},i.onDescriptionChange=function(e){i.setState({description:e})},i.onQuoteChange=function(e){i.setState({quote:e})},i.sendData=function(){if(null!==i.state.file){var e={img:i.state.file,name:i.state.name,description:i.state.description,quote:i.state.quote,cost:i.state.cost};i.props.onSaveClick(e)}else i.setState({btnWarning:!0})},i.state={cost:1,file:null,filename:"",img:a(304),name:"",description:"",quote:"",btnWarning:!1},i}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:ct.a.container},i.a.createElement("div",{className:ct.a.sticky_container},i.a.createElement("div",{className:"".concat(ct.a.back_button)},i.a.createElement(I,{disabled:!0,onClick:this.onBackClick}))),i.a.createElement(dt,null,i.a.createElement("div",{className:ct.a.content},i.a.createElement("div",{className:ct.a.preview},i.a.createElement("img",{className:ct.a.preview_logo,src:this.state.img,alt:"sticker pic"})),i.a.createElement("div",{className:ct.a.input_frame},i.a.createElement("div",{className:ct.a.input_button},i.a.createElement("label",{className:ct.a.input_label},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u043e\u0442\u043e",i.a.createElement("input",{className:ct.a.input_file,type:"file",name:"pic",accept:"image/*",onChange:this.uploadFile}))),i.a.createElement("span",{className:ct.a.filename},this.state.filename)),i.a.createElement("div",{className:ct.a.input_title},"\u0418\u043c\u044f \u0443\u0447\u0451\u043d\u043e\u0433\u043e"),i.a.createElement("div",{className:ct.a.input},i.a.createElement(_t,{placeholder:this.state.name,maxLength:135,onChange:this.onNameChange})),i.a.createElement("div",{className:ct.a.input_title},"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),i.a.createElement("div",{className:ct.a.input},i.a.createElement(_t,{placeholder:this.state.description,maxLength:150,onChange:this.state.onDescriptionChange})),i.a.createElement("div",{className:ct.a.input_title},"\u0426\u0438\u0442\u0430\u0442\u0430"),i.a.createElement("div",{className:ct.a.input},i.a.createElement(_t,{placeholder:this.state.quote,maxLength:90,onChange:this.onQuoteChange})),i.a.createElement("div",{className:ct.a.right_answer_choice},i.a.createElement("div",null,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),i.a.createElement(ft,{name:"cost",value:this.state.cost-1,onChange:function(t){return e.onStickerPriceChange(t.target.value)},options:{0:1,1:2,2:3,3:4,4:5}}),i.a.createElement(Ye,{key:100,score:this.state.cost})),this.state.btnWarning?i.a.createElement("p",{className:ct.a.warningText},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0444\u043e\u0442\u043e"):"",i.a.createElement("button",{className:"".concat(ct.a.save_button," ").concat(this.state.btnWarning?ct.a.btnWarning:""),onClick:this.sendData},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))}}]),n}(i.a.Component),Et=a(56),kt=a.n(Et),gt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={text:n.props.text,onApprove:n.props.onApprove,onCancel:n.props.onCancel},n}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:kt.a.modal},i.a.createElement("div",null,this.state.text),i.a.createElement("div",{className:kt.a.controls},i.a.createElement("button",{className:kt.a.approve,onClick:this.state.onApprove},"\u0414\u0430"),i.a.createElement("button",{className:kt.a.cancel,onClick:this.state.onCancel},"\u041e\u0442\u043c\u0435\u043d\u0430"))))}}]),a}(i.a.Component),Ct=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).prepareStickers=function(e,t){var a=t.stickers.map((function(e){return e.id}));return e.map((function(e){return e.id===t.activeSticker.id?e.status=et.ACTIVE:a.includes(e.id)?e.status=et.AVAILABLE:e.status=et.LOCKED,e})),e},n.onSelect=function(e){E(n.state.user)||(n.stickerShopService.vibrate(),n.stickerShopService.setActiveSticker(n.state.user.id,e.currentTarget.id).then((function(e){n.application.deleteUser();var t=n.prepareStickers(n.state.stickers,e);n.setState({stickers:t})})))},n.onBuyClick=function(e){if(!E(n.state.user)){var t=n.state.stickers.find((function(t){return t.id===parseInt(e.target.id)})).cost;n.state.user.score>=t?(n.application.deleteUser(),n.stickerShopService.buySticker(n.state.user.id,e.target.id).then((function(e){e.first_name=n.state.user.first_name,e.last_name=n.state.user.last_name,e.photo_200=n.state.user.photo_200,n.setState({user:e});var t=n.prepareStickers(n.state.stickers,e);n.setState({stickers:t})}))):(n.stickerShopService.vibrateImpact($.IMPACT_HEAVY),n.setState({scoreFocus:e.target.id}),setTimeout((function(){return n.setState({scoreFocus:void 0})}),300))}},n.renderStickers=function(){var e=n.state.stickers,t=[];if(!E(n.state.user)&&!E(e))return e.map((function(e){return t.push(i.a.createElement(it,{key:[e.id,e.status,n.state.scoreFocus],id:e.id,img:e.img,name:e.name,quote:e.quote,description:e.description,cost:e.cost,status:e.status,onSelect:n.onSelect,onBuyClick:n.onBuyClick,scoreFocus:n.state.scoreFocus,onEditMode:n.state.user.role,onDeleteClick:n.showConfirmModal})),e})),t},n.addNewSticker=function(){n.setState({modalStickerCreation:!0})},n.onSaveClick=function(e){E(n.state.user)||(n.setState({modalStickerCreation:!1}),n.stickerShopService.saveSticker(e).then((function(e){var t=n.prepareStickers(e,n.state.user);n.setState({stickers:t})})))},n.closeConfirmModal=function(){n.setState({confirmModal:!1,activeStickerId:null})},n.onDeleteClick=function(){n.stickerShopService.deleteSticker(n.state.activeStickerId).then((function(e){var t=n.prepareStickers(e,n.state.user);n.setState({stickers:t})})),n.closeConfirmModal()},n.showConfirmModal=function(e){n.setState({confirmModal:!0,activeStickerId:e})},n.application=n.props.application,n.stickerShopService=n.application.provideStickerShopService(),n.state={scoreFocus:void 0,modalStickerCreation:!1,confirmModal:!1},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.stickerShopService.getAllStickers().then((function(t){e.application.provideUser().then((function(a){t=e.prepareStickers(t,a),e.setState({stickers:t,user:a})}))}))}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ke,{style:this.state.modalStickerCreation?{filter:"blur(2px)"}:{}}),i.a.createElement("div",{className:st.a.container,style:this.state.modalStickerCreation?{filter:"blur(2px)"}:{}},i.a.createElement("div",{className:st.a.headline},i.a.createElement("span",null,"Choose your fighter!"),i.a.createElement(Ye,{key:E(this.state.user)?"":this.state.user.score,score:E(this.state.user)?0:this.state.user.score})),i.a.createElement("div",{className:st.a.sticker_container},i.a.createElement("div",{className:st.a.p}),this.renderStickers(),E(this.state.user)||this.state.user.role!==nt.ADMIN?"":i.a.createElement("div",{className:st.a.wrapper,onClick:this.addNewSticker},i.a.createElement("div",{className:st.a.content})),i.a.createElement("div",{className:st.a.p}))),this.state.modalStickerCreation?i.a.createElement("div",{className:st.a.window},i.a.createElement(bt,{onSaveClick:this.onSaveClick,onBackClick:function(){return e.setState({modalStickerCreation:!1})}})):"",this.state.confirmModal?i.a.createElement("div",{className:st.a.confirm_modal_container},i.a.createElement("div",{className:st.a.confirm_modal},i.a.createElement(gt,{text:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u0438\u043a\u0435\u0440?",onApprove:this.onDeleteClick,onCancel:this.closeConfirmModal}))):"")}}]),a}(i.a.Component),wt=a(57),St=a.n(wt),Nt=a(14),yt=a.n(Nt),Ot=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).prepareDate=function(e){var t=de(e);return"".concat(t.getDate(),".").concat(t.getMonth()+1,".").concat(t.getFullYear())},n.renderButton=function(){return n.props.editMode?i.a.createElement(m.b,{to:"#",style:{visibility:"hidden"},className:"".concat(yt.a.start_button," ").concat(yt.a.disabled)},"\u041d\u0430\u0447\u0430\u0442\u044c \u0442\u0435\u0441\u0442"):E(n.props.disableButton)?i.a.createElement(m.b,{to:"/preview/".concat(n.props.id),className:yt.a.start_button},"\u041d\u0430\u0447\u0430\u0442\u044c \u0442\u0435\u0441\u0442"):i.a.createElement(m.b,{to:"#",className:"".concat(yt.a.start_button," ").concat(yt.a.disabled)},"\u041d\u0430\u0447\u0430\u0442\u044c \u0442\u0435\u0441\u0442")},n.onTouchStart=function(){n.clickDisabler=!0,n.state.isTouchStarted||(n.setState({isTouchStarted:!0}),n.longPressTimer=setTimeout(n.onLongTouch,500),setTimeout((function(){return n.setState({isTouchStarted:!1})}),1e3))},n.onTouchEnd=function(){n.clickDisabler&&(n.clickDisabler=!1),n.setState({isTouchStarted:!1}),clearTimeout(n.longPressTimer)},n.onLongTouch=function(){n.props.onLongClick()},n.onClick=function(){n.clickDisabler||n.props.onEditClick(n.props.id)},n.application=e.application,n.state={date:n.prepareDate(n.props.date),isTouchStarted:!1,isDelayed:de(n.props.date)>new Date},n.clickDisabler=!0,e.progress.then((function(e){return n.setState({progress:e})})),n}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:yt.a.card,onClick:this.props.editMode?this.onClick:function(){},onTouchStart:this.onTouchStart,onTouchEnd:this.onTouchEnd},i.a.createElement("img",{className:yt.a.pic,src:this.props.img,alt:"test"}),i.a.createElement("div",{className:yt.a.container},i.a.createElement("div",{className:yt.a.name},this.props.title),i.a.createElement("div",{className:yt.a.info},i.a.createElement("div",{className:yt.a.date},this.state.date),i.a.createElement("div",{className:yt.a.progress},i.a.createElement("span",{className:this.state.progress>=1?yt.a.dot_on:yt.a.dot}),i.a.createElement("span",{className:this.state.progress>=2?yt.a.dot_on:yt.a.dot}),i.a.createElement("span",{className:this.state.progress>=3?yt.a.dot_on:yt.a.dot}))))),this.renderButton(),this.props.editMode?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:yt.a.delete_button},i.a.createElement("div",{id:this.props.id,onClick:this.props.onDeleteClick})),this.state.isDelayed?i.a.createElement("div",{className:yt.a.status_icon},i.a.createElement("div",null)):""):"")}}]),a}(i.a.Component),Tt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onEditClick=function(e){n.setState({editMode:!n.state.editMode});var t=n.testListService.getTestFromRepo(e);n.application.createTestEditHelper(t),n.props.history.push("/testEditing")},n.onLongClick=function(){E(n.state.user)||n.state.user.role!==nt.ADMIN||n.setState({editMode:!n.state.editMode})},n.onDeleteClick=function(e){n.setState({confirmDeletion:e.currentTarget.id})},n.onDeleteApprove=function(e){console.log("onDeleteApprove"),n.testListService.deleteTest(n.state.confirmDeletion).then((function(e){return n.setState({tests:e})})),n.setState({confirmDeletion:!1})},n.onDeleteCancel=function(e){console.log("onDeleteCancel"),n.setState({confirmDeletion:!1})},n.fetchTests=function(){n.testListService.getTests().then((function(e){n.setState({tests:e})}))},n.onAddClick=function(){n.setState({editMode:!n.state.editMode}),n.application.createTestEditHelper({}),n.props.history.push("/testEditing")},n.application=e.application,n.testListService=n.application.provideTestListService(),n.state={sortBy:e.socket,tests:[],editMode:e.editMode,confirmDeletion:!1},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.application.provideUser().then((function(t){return e.setState({user:t})})),this.fetchTests()}},{key:"prepareList",value:function(){var e=this,t=[];return this.state.tests.map((function(a){return t.push(i.a.createElement(Ot,{key:[a.id,e.state.editMode],id:a.id,title:a.title,img:a.img,date:a.date,progress:a.progress,application:e.application,onLongClick:e.onLongClick,editMode:e.state.editMode,onDeleteClick:e.onDeleteClick,onEditClick:e.onEditClick}))})),t=this.testListService.sort(t)}},{key:"render",value:function(){return i.a.createElement("section",{className:St.a.news_container},this.prepareList(),this.state.editMode?i.a.createElement("div",{className:St.a.add_button,onClick:this.onAddClick}):"",!1!==this.state.confirmDeletion?i.a.createElement("div",{className:St.a.confirm_modal_container},i.a.createElement("div",{className:St.a.confirm_modal},i.a.createElement(gt,{text:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0435\u0441\u0442?",onApprove:this.onDeleteApprove,onCancel:this.onDeleteCancel}))):"")}}]),a}(i.a.Component),jt=Object(_.e)(Tt),At=a(20),xt=a.n(At),qt=a(41),It=a.n(qt),Dt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.sticker;return i.a.createElement("div",{className:It.a.level_wrapper},i.a.createElement("div",{className:It.a.dignity},i.a.createElement("svg",{width:"39",height:"38",viewBox:"0 0 39 38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{d:"M19.4741 3.28856L19.7766 3.19844C23.7322 2.07888 27.0605 3.29372 29.154 6.27431L29.2922 6.47707L29.552 6.58196C35.0459 8.87103 35.9471 14.5237 33.4652 18.8354C34.7986 20.585 35.0804 22.3223 34.4005 23.9293C33.9606 24.9692 33.2355 25.7792 32.2411 26.542L32.188 26.5804L32.1948 26.8445C32.2251 30.3577 30.3213 32.1624 27.5204 32.1966C26.7459 33.7544 25.4133 34.7547 23.6026 35.1179C21.9906 35.4413 20.5728 35.1367 19.4485 34.2374C17.2678 35.8709 13.4728 35.2213 11.5489 32.5434L11.3634 32.2682L11.3135 32.2669C8.05644 32.1268 6.35062 29.9931 6.65101 27.007L6.67918 26.765L6.59468 26.7229C4.55183 25.6068 3.5992 23.0643 4.24119 20.6508L4.31911 20.3833C4.51587 19.7621 4.80084 19.1992 5.16585 18.7025C2.77742 14.8896 3.90018 8.44461 9.24129 6.75332L9.45097 6.69015L9.72046 6.35448C9.94577 6.075 10.146 5.8361 10.3513 5.60499C12.7906 2.85904 15.6276 1.81662 19.4741 3.28856ZM20.6841 5.48723L20.6824 32.002C21.2929 32.7153 22.0403 32.9372 23.097 32.7253C23.8966 32.5649 24.4946 32.2263 24.9264 31.6745C23.5919 30.9825 22.8355 29.59 22.6912 27.6694C22.6407 26.9966 23.1595 26.4113 23.85 26.3621C24.5405 26.3129 25.1412 26.8183 25.1917 27.4911C25.3006 28.941 25.7615 29.5487 26.6556 29.6892C28.8462 30.0335 29.9466 29.1419 29.6457 26.1126C29.6021 25.6742 29.8042 25.2469 30.1745 24.9943C31.1358 24.3387 31.7831 23.7063 32.0826 22.9983C32.3522 22.3611 32.3139 21.6704 31.8396 20.8545C30.0429 22.4235 27.4587 23.2638 25.9695 22.6529C25.3315 22.3911 25.032 21.6749 25.3007 21.0532C25.5693 20.4315 26.3044 20.1397 26.9425 20.4014C27.5583 20.6541 29.8811 19.686 30.8942 18.2433C33.2662 14.8654 32.6799 10.2205 28.0365 8.62742C27.758 8.53187 27.523 8.3436 27.3731 8.09579C25.9247 5.70284 23.6663 4.71183 20.6841 5.48723ZM12.247 7.2037L11.8868 7.6248L11.175 8.51345C10.9992 8.73368 10.7513 8.88863 10.4726 8.95253C6.69311 9.81901 5.69624 14.3087 7.09171 17.0578C8.69163 16.2089 10.8355 15.9707 13.3428 16.5158C14.0185 16.6627 14.444 17.3156 14.2933 17.974C14.1425 18.6323 13.4725 19.047 12.7968 18.9001C9.39357 18.1601 7.32743 19.1695 6.71474 21.1037C6.20778 22.7042 6.90826 24.3428 8.20965 24.755L8.39078 24.8035C9.0853 24.9563 9.50992 25.6414 9.32542 26.3114C8.65915 28.7311 9.53117 29.9692 12.0317 29.82C12.5524 29.789 13.0383 30.0753 13.2519 30.5389C14.2911 32.7941 17.1974 33.2433 18.1783 32.049L18.175 5.42466C15.6505 4.5788 13.9605 5.27477 12.247 7.2037ZM10.8475 21.5365C12.2415 22.0458 13.3701 22.8271 14.2072 23.8759C15.0646 24.9499 15.5206 26.2535 15.5797 27.7495C15.6063 28.4236 15.067 28.991 14.3752 29.017C13.6834 29.0429 13.101 28.5175 13.0744 27.8434C13.0349 26.8413 12.7514 26.0311 12.2282 25.3757C11.6848 24.6949 10.9398 24.1792 9.96717 23.8238C9.31893 23.5869 8.99048 22.8829 9.23358 22.2513C9.47667 21.6196 10.1992 21.2996 10.8475 21.5365ZM25.663 10.8099C26.0382 12.069 26.5452 12.905 27.1435 13.3508C27.7165 13.7778 28.5512 13.9723 29.6978 13.8952C30.3885 13.8488 30.987 14.3567 31.0347 15.0297C31.0823 15.7027 30.561 16.2859 29.8703 16.3323C28.1572 16.4474 26.7239 16.1134 25.6206 15.2913C24.5425 14.4881 23.7676 13.2103 23.2553 11.491C23.0623 10.8431 23.4448 10.1655 24.1097 9.97743C24.7745 9.78935 25.47 10.162 25.663 10.8099ZM15.9623 8.66837C16.634 8.83198 17.0423 9.49513 16.8744 10.1496C16.5506 11.4115 15.8629 12.3832 14.8241 12.9905C13.8882 13.5376 12.8516 13.8131 11.7386 13.8131C11.0462 13.8131 10.485 13.2662 10.485 12.5916C10.485 11.9171 11.0462 11.3702 11.7386 11.3702C12.4005 11.3702 12.9909 11.2133 13.5342 10.8957C13.9745 10.6383 14.2729 10.2168 14.4421 9.55709C14.6101 8.90265 15.2907 8.50476 15.9623 8.66837Z",fill:"black"})),i.a.createElement("div",null,"\u0414\u0430 \u0442\u044b ",E(e)?"":e.name)),i.a.createElement("div",{className:It.a.quote},E(e)?"":e.quote),i.a.createElement("div",{className:It.a.sticker_wrapper},i.a.createElement("div",{className:It.a.cloud}),i.a.createElement("div",{className:It.a.cloud}),i.a.createElement("div",{className:It.a.cloud}),i.a.createElement("img",{className:It.a.sticker,src:E(e)?"":e.img,alt:"sticker"})))}}]),a}(i.a.Component),Rt=a(125),Pt=a(18),Mt=a.n(Pt),Lt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onCopyClick=function(e){var t=e.currentTarget.innerText;n.navigator.clipboard.writeText(t),n.setState({copyWarning:!0}),setTimeout((function(){return n.setState({copyWarning:!1})}),1250)},n.getCurrentClass=function(){return E(n.state.copyWarning)?Mt.a.hidden:n.state.copyWarning?Mt.a.show:Mt.a.hide},n.state={copyWarning:void 0},n.navigator=navigator,n}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:Mt.a.dev_container},i.a.createElement("div",{className:"".concat(Mt.a.copy_warning," ").concat(this.getCurrentClass())},"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e!"),i.a.createElement("div",{className:Mt.a.developers,onClick:function(){}},i.a.createElement("div",{className:Mt.a.exit,onClick:this.props.onExitClick}),i.a.createElement("div",{className:Mt.a.title},"\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438"),i.a.createElement("div",{className:Mt.a.dev_item},i.a.createElement("div",null,"\u0410\u0440\u0442\u0451\u043c \u0411\u0430\u043a\u0443\u0442\u0430"),i.a.createElement("div",{className:Mt.a.duty},"Frontend & Backend"),i.a.createElement("div",{className:Mt.a.dev_link},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"48px",height:"48px"},i.a.createElement("linearGradient",{id:"BiF7D16UlC0RZ_VqXJHnXa",x1:"9.858",x2:"38.142",y1:"9.858",y2:"38.142",gradientUnits:"userSpaceOnUse"},i.a.createElement("stop",{offset:"0",stopColor:"#33bef0"}),i.a.createElement("stop",{offset:"1",stopColor:"#0a85d9"})),i.a.createElement("path",{fill:"url(#BiF7D16UlC0RZ_VqXJHnXa)",d:"M44,24c0,11.045-8.955,20-20,20S4,35.045,4,24S12.955,4,24,4S44,12.955,44,24z"}),i.a.createElement("path",{d:"M10.119,23.466c8.155-3.695,17.733-7.704,19.208-8.284c3.252-1.279,4.67,0.028,4.448,2.113\tc-0.273,2.555-1.567,9.99-2.363,15.317c-0.466,3.117-2.154,4.072-4.059,2.863c-1.445-0.917-6.413-4.17-7.72-5.282\tc-0.891-0.758-1.512-1.608-0.88-2.474c0.185-0.253,0.658-0.763,0.921-1.017c1.319-1.278,1.141-1.553-0.454-0.412\tc-0.19,0.136-1.292,0.935-1.745,1.237c-1.11,0.74-2.131,0.78-3.862,0.192c-1.416-0.481-2.776-0.852-3.634-1.223\tC8.794,25.983,8.34,24.272,10.119,23.466z",opacity:".05"}),i.a.createElement("path",{d:"M10.836,23.591c7.572-3.385,16.884-7.264,18.246-7.813c3.264-1.318,4.465-0.536,4.114,2.011\tc-0.326,2.358-1.483,9.654-2.294,14.545c-0.478,2.879-1.874,3.513-3.692,2.337c-1.139-0.734-5.723-3.754-6.835-4.633\tc-0.86-0.679-1.751-1.463-0.71-2.598c0.348-0.379,2.27-2.234,3.707-3.614c0.833-0.801,0.536-1.196-0.469-0.508\tc-1.843,1.263-4.858,3.262-5.396,3.625c-1.025,0.69-1.988,0.856-3.664,0.329c-1.321-0.416-2.597-0.819-3.262-1.078\tC9.095,25.618,9.075,24.378,10.836,23.591z",opacity:".07"}),i.a.createElement("path",{fill:"#fff",d:"M11.553,23.717c6.99-3.075,16.035-6.824,17.284-7.343c3.275-1.358,4.28-1.098,3.779,1.91\tc-0.36,2.162-1.398,9.319-2.226,13.774c-0.491,2.642-1.593,2.955-3.325,1.812c-0.833-0.55-5.038-3.331-5.951-3.984\tc-0.833-0.595-1.982-1.311-0.541-2.721c0.513-0.502,3.874-3.712,6.493-6.21c0.343-0.328-0.088-0.867-0.484-0.604\tc-3.53,2.341-8.424,5.59-9.047,6.013c-0.941,0.639-1.845,0.932-3.467,0.466c-1.226-0.352-2.423-0.772-2.889-0.932\tC9.384,25.282,9.81,24.484,11.553,23.717z"})),i.a.createElement("span",{onClick:this.onCopyClick},"Jhoysbou"))),i.a.createElement("div",{className:Mt.a.dev_item},i.a.createElement("div",null,"\u0410\u043d\u0434\u0440\u0435\u0439 \u0414\u0443\u0440\u043d\u0435\u0432"),i.a.createElement("div",{className:Mt.a.duty},"Frontend"),i.a.createElement("div",{className:Mt.a.dev_link},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"48px",height:"48px"},i.a.createElement("linearGradient",{id:"BiF7D16UlC0RZ_VqXJHnXa",x1:"9.858",x2:"38.142",y1:"9.858",y2:"38.142",gradientUnits:"userSpaceOnUse"},i.a.createElement("stop",{offset:"0",stopColor:"#33bef0"}),i.a.createElement("stop",{offset:"1",stopColor:"#0a85d9"})),i.a.createElement("path",{fill:"url(#BiF7D16UlC0RZ_VqXJHnXa)",d:"M44,24c0,11.045-8.955,20-20,20S4,35.045,4,24S12.955,4,24,4S44,12.955,44,24z"}),i.a.createElement("path",{d:"M10.119,23.466c8.155-3.695,17.733-7.704,19.208-8.284c3.252-1.279,4.67,0.028,4.448,2.113\tc-0.273,2.555-1.567,9.99-2.363,15.317c-0.466,3.117-2.154,4.072-4.059,2.863c-1.445-0.917-6.413-4.17-7.72-5.282\tc-0.891-0.758-1.512-1.608-0.88-2.474c0.185-0.253,0.658-0.763,0.921-1.017c1.319-1.278,1.141-1.553-0.454-0.412\tc-0.19,0.136-1.292,0.935-1.745,1.237c-1.11,0.74-2.131,0.78-3.862,0.192c-1.416-0.481-2.776-0.852-3.634-1.223\tC8.794,25.983,8.34,24.272,10.119,23.466z",opacity:".05"}),i.a.createElement("path",{d:"M10.836,23.591c7.572-3.385,16.884-7.264,18.246-7.813c3.264-1.318,4.465-0.536,4.114,2.011\tc-0.326,2.358-1.483,9.654-2.294,14.545c-0.478,2.879-1.874,3.513-3.692,2.337c-1.139-0.734-5.723-3.754-6.835-4.633\tc-0.86-0.679-1.751-1.463-0.71-2.598c0.348-0.379,2.27-2.234,3.707-3.614c0.833-0.801,0.536-1.196-0.469-0.508\tc-1.843,1.263-4.858,3.262-5.396,3.625c-1.025,0.69-1.988,0.856-3.664,0.329c-1.321-0.416-2.597-0.819-3.262-1.078\tC9.095,25.618,9.075,24.378,10.836,23.591z",opacity:".07"}),i.a.createElement("path",{fill:"#fff",d:"M11.553,23.717c6.99-3.075,16.035-6.824,17.284-7.343c3.275-1.358,4.28-1.098,3.779,1.91\tc-0.36,2.162-1.398,9.319-2.226,13.774c-0.491,2.642-1.593,2.955-3.325,1.812c-0.833-0.55-5.038-3.331-5.951-3.984\tc-0.833-0.595-1.982-1.311-0.541-2.721c0.513-0.502,3.874-3.712,6.493-6.21c0.343-0.328-0.088-0.867-0.484-0.604\tc-3.53,2.341-8.424,5.59-9.047,6.013c-0.941,0.639-1.845,0.932-3.467,0.466c-1.226-0.352-2.423-0.772-2.889-0.932\tC9.384,25.282,9.81,24.484,11.553,23.717z"})),i.a.createElement("span",{onClick:this.onCopyClick},"noentryx"))),i.a.createElement("div",{className:Mt.a.dev_item},i.a.createElement("div",null,"\u0410\u0434\u0438\u043b\u044f \u041a\u0430\u043c\u0430\u043b\u043e\u0432\u0430"),i.a.createElement("div",{className:Mt.a.duty},"Design"),i.a.createElement("div",{className:Mt.a.dev_link},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"48px",height:"48px"},i.a.createElement("linearGradient",{id:"BiF7D16UlC0RZ_VqXJHnXa",x1:"9.858",x2:"38.142",y1:"9.858",y2:"38.142",gradientUnits:"userSpaceOnUse"},i.a.createElement("stop",{offset:"0",stopColor:"#33bef0"}),i.a.createElement("stop",{offset:"1",stopColor:"#0a85d9"})),i.a.createElement("path",{fill:"url(#BiF7D16UlC0RZ_VqXJHnXa)",d:"M44,24c0,11.045-8.955,20-20,20S4,35.045,4,24S12.955,4,24,4S44,12.955,44,24z"}),i.a.createElement("path",{d:"M10.119,23.466c8.155-3.695,17.733-7.704,19.208-8.284c3.252-1.279,4.67,0.028,4.448,2.113\tc-0.273,2.555-1.567,9.99-2.363,15.317c-0.466,3.117-2.154,4.072-4.059,2.863c-1.445-0.917-6.413-4.17-7.72-5.282\tc-0.891-0.758-1.512-1.608-0.88-2.474c0.185-0.253,0.658-0.763,0.921-1.017c1.319-1.278,1.141-1.553-0.454-0.412\tc-0.19,0.136-1.292,0.935-1.745,1.237c-1.11,0.74-2.131,0.78-3.862,0.192c-1.416-0.481-2.776-0.852-3.634-1.223\tC8.794,25.983,8.34,24.272,10.119,23.466z",opacity:".05"}),i.a.createElement("path",{d:"M10.836,23.591c7.572-3.385,16.884-7.264,18.246-7.813c3.264-1.318,4.465-0.536,4.114,2.011\tc-0.326,2.358-1.483,9.654-2.294,14.545c-0.478,2.879-1.874,3.513-3.692,2.337c-1.139-0.734-5.723-3.754-6.835-4.633\tc-0.86-0.679-1.751-1.463-0.71-2.598c0.348-0.379,2.27-2.234,3.707-3.614c0.833-0.801,0.536-1.196-0.469-0.508\tc-1.843,1.263-4.858,3.262-5.396,3.625c-1.025,0.69-1.988,0.856-3.664,0.329c-1.321-0.416-2.597-0.819-3.262-1.078\tC9.095,25.618,9.075,24.378,10.836,23.591z",opacity:".07"}),i.a.createElement("path",{fill:"#fff",d:"M11.553,23.717c6.99-3.075,16.035-6.824,17.284-7.343c3.275-1.358,4.28-1.098,3.779,1.91\tc-0.36,2.162-1.398,9.319-2.226,13.774c-0.491,2.642-1.593,2.955-3.325,1.812c-0.833-0.55-5.038-3.331-5.951-3.984\tc-0.833-0.595-1.982-1.311-0.541-2.721c0.513-0.502,3.874-3.712,6.493-6.21c0.343-0.328-0.088-0.867-0.484-0.604\tc-3.53,2.341-8.424,5.59-9.047,6.013c-0.941,0.639-1.845,0.932-3.467,0.466c-1.226-0.352-2.423-0.772-2.889-0.932\tC9.384,25.282,9.81,24.484,11.553,23.717z"})),i.a.createElement("span",{onClick:this.onCopyClick},"onf1re")))))}}]),a}(i.a.Component),Ft=a(88),Qt=a.n(Ft),Ht=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={data:e.data},n}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"".concat(Qt.a.settings_window)},this.state.data.map((function(e){return i.a.createElement("div",{key:e.id,id:e.id,className:Qt.a.settings_item,onClick:function(t){return e.onClick(t.currentTarget.id)}},e.value)})))}}]),a}(i.a.Component),Ut=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).ondDevButton=function(){a.setState({aboutDev:!a.state.aboutDev})},a.fetchUser=function(){a.application.provideUser().then((function(e){return a.setState({user:e})}))},a.onStickerClick=function(){a.props.onSettingsClick(),setTimeout((function(){return a.props.history.push("/stickerShop")}),250)},a.provideVisibility=function(){return E(a.props.settings_window)?xt.a.hidden_no_animation:!0===a.props.settings_window?xt.a.settings_window_anim:xt.a.hidden},a.application=e.application,a.profileService=a.application.provideProfileService(),a.state={aboutDev:!1},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.fetchUser()}},{key:"render",value:function(){var e=this.state.user;return i.a.createElement("div",{className:xt.a.profile_card},i.a.createElement("div",{className:xt.a.slider}),i.a.createElement("div",{className:xt.a.about},i.a.createElement(Rt.a,{src:E(e)?"":this.state.user.photo_200,size:100}),i.a.createElement("div",{className:xt.a.bio},i.a.createElement("div",{className:xt.a.name},E(e)?"":e.first_name+" "+e.last_name),i.a.createElement("div",null,"\u0421\u0442\u0443\u0434\u0435\u043d\u0442 \u0442\u0435\u043e\u0440\u043c\u0435\u0445\u0430"),i.a.createElement("div",{className:xt.a.score},i.a.createElement(Ye,{key:e,score:E(e)?0:e.score})))),i.a.createElement(Dt,{key:e,sticker:E(e)?void 0:e.activeSticker}),i.a.createElement("div",{className:xt.a.logo},i.a.createElement("a",{href:"https://vk.com/theormech",target:"_blank",rel:"noopener noreferrer"},i.a.createElement("img",{src:a(306),alt:"logo"})),i.a.createElement("div",{className:xt.a.logo_text},"\u0412\u044b\u0441\u0448\u0430\u044f \u0448\u043a\u043e\u043b\u0430 \u0442\u0435\u043e\u0440\u0435\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u043c\u0435\u0445\u0430\u043d\u0438\u043a\u0438"),i.a.createElement("div",{className:"".concat(xt.a.settings," ").concat(E(this.props.settings_window)||!0===this.props.settings_window?xt.a.active:xt.a.disabled),onClick:this.props.onSettingsClick})),i.a.createElement("div",{className:"".concat(xt.a.settings_window," ").concat(this.provideVisibility())},i.a.createElement(Ht,{data:[{id:0,value:"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0438\u043a\u0435\u0440",onClick:this.onStickerClick},{id:1,value:"\u041e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438",onClick:this.ondDevButton}]})),this.state.aboutDev?i.a.createElement(Lt,{onExitClick:this.ondDevButton}):"")}}]),n}(i.a.Component),Wt=Object(_.e)(Ut),Bt=a(58),Vt=a.n(Bt),Gt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onSwipeMove=function(e,t){n.state.settings_window&&n.setState({settings_window:!1})},n.onSettingsClick=function(){E(n.state.settings_window)?n.setState({settings_window:!0}):n.setState({settings_window:!n.state.settings_window})},n.application=e.application,n.state={rerender:!1},window.onpopstate=function(){return n.setState({rerender:!n.state.rerender})},n}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement(Q.a,{onSwipeMove:this.onSwipeMove},i.a.createElement("div",{className:Vt.a.main_window},i.a.createElement("div",{className:Vt.a.news_wrapper},i.a.createElement(jt,{key:this.state.rerender,application:this.application,sortBy:"date"})),i.a.createElement("div",{className:Vt.a.profile},i.a.createElement(Wt,{key:[this.state.settings_window,this.state.rerender],rerender:this.state.rerender,application:this.application,settings_window:this.state.settings_window,onSettingsClick:this.onSettingsClick})),i.a.createElement("div",{className:Vt.a.background})))}}]),a}(i.a.Component),Kt=a(34),Zt=a.n(Kt),zt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).toTestList=function(){a.props.history.go(-2)},a.toTestPreview=function(){a.props.history.go(-1)},a.getTip=function(){return a.tips[Math.floor(Math.random()*a.tips.length)]},a.application=e.application,a.testId=parseInt(e.match.params.testId),a.resultService=a.application.provideResultService(),a.state={},a.tips=["\u0422\u044b \u043c\u043e\u0436\u0435\u0448\u044c \u0442\u0440\u0430\u0442\u0438\u0442\u044c \u0437\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0435 \u0431\u0430\u043b\u043b\u044b \u043d\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0443 \u043d\u043e\u0432\u044b\u0445 \u0441\u0442\u0438\u043a\u0435\u0440\u043e\u0432","\u041a\u0443\u043f\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0435 \u0441\u0442\u0438\u043a\u0435\u0440\u044b \u043c\u043e\u0436\u043d\u043e \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435","\u0417\u0430 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u0432\u044b \u043f\u043e\u0442\u0435\u0440\u044f\u0435\u0442\u0435 \u043e\u0447\u043a\u0438, \u043d\u043e \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u044f \u0432\u043e\u043f\u0440\u043e\u0441, \u0432\u044b \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0442\u0435\u0440\u044f\u0435\u0442\u0435","\u0411\u0430\u043b\u043b\u044b \u0437\u0430 \u0442\u0435\u0441\u0442 \u043d\u0430\u0447\u0438\u0441\u043b\u044f\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e \u0435\u0433\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044e","\u041f\u0440\u043e\u0439\u0442\u0438 \u0442\u0435\u0441\u0442 \u0435\u0449\u0451 \u0440\u0430\u0437 \u043d\u0435\u043b\u044c\u0437\u044f","\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u0438 \u0435\u0433\u043e \u043e\u0431\u044a\u044f\u0441\u043d\u0435\u043d\u0438\u0435 \u043c\u043e\u0436\u043d\u043e \u043d\u0430 \u0432\u043a\u043b\u0430\u0434\u043a\u0435 \u0441 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0435\u0439 \u043e \u0442\u0435\u0441\u0442\u0435","\u0423 \u043f\u0440\u043e\u043f\u0443\u0449\u0435\u043d\u043d\u044b\u0445 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u043d\u0435\u043b\u044c\u0437\u044f \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0440\u0435\u0448\u0435\u043d\u0438\u0435","\u0421\u0442\u0430\u0440\u0430\u0439\u0442\u0435\u0441\u044c \u043d\u0435 \u043e\u0448\u0438\u0431\u0430\u0442\u044c\u0441\u044f, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0430\u043b\u043b\u043e\u0432 \u0437\u0430 \u0442\u0435\u0441\u0442","\u0415\u0441\u043b\u0438 \u043d\u0435 \u0437\u043d\u0430\u0435\u0442\u0435 \u043e\u0442\u0432\u0435\u0442\u0430, \u0442\u043e \u043b\u0443\u0447\u0448\u0435 \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441. \u041d\u043e \u0432\u0441\u0435\u0433\u0434\u0430 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0439\u0442\u0438 \u043d\u0430 \u0440\u0438\u0441\u043a","\u0415\u0441\u043b\u0438 \u0432\u044b \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0432\u0441\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u044b, \u0442\u043e \u043f\u0440\u043e\u0439\u0442\u0438 \u0442\u0435\u0441\u0442 \u0437\u0430\u043d\u043e\u0432\u043e \u0432\u0441\u0435 \u0440\u0430\u0432\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u043d\u0435\u043b\u044c\u0437\u044f"],a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.application.deleteUser(),this.resultService.getData(this.testId).then((function(t){return e.setState({data:t})}))}},{key:"render",value:function(){var e=this.state.data;return i.a.createElement("div",{className:Zt.a.result_window},i.a.createElement("div",{className:Zt.a.result_bubble},i.a.createElement("div",null,"\u0422\u0432\u043e\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"),i.a.createElement("div",{className:Zt.a.percent},E(e)?0:e.percent,"%"),i.a.createElement("div",null,"".concat(E(e)?0:e.current,"/").concat(E(e)?0:e.max))),i.a.createElement("div",{className:Zt.a.tip},i.a.createElement("img",{alt:"tip",src:a(307)}),i.a.createElement("div",null,this.getTip())),i.a.createElement("div",{className:Zt.a.controls},i.a.createElement("div",{onClick:this.toTestPreview,className:Zt.a.first_button},i.a.createElement("div",null,"\u0425\u043e\u0447\u0443 \u0443\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435!")),i.a.createElement("div",{onClick:this.toTestList,className:Zt.a.second_button},i.a.createElement("div",null,"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0442\u0435\u0441\u0442"))),i.a.createElement("div",{className:Zt.a.planet_1}),i.a.createElement("div",{className:Zt.a.planet_2}),i.a.createElement("div",{className:Zt.a.planet_3}))}}]),n}(i.a.Component),Xt=Object(_.e)(zt),Jt=a(17),Yt=a.n(Jt),$t=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var i;Object(l.a)(this,n),(i=t.call(this,e)).onTitleChange=function(e){i.setState({title:e}),i.testEditHelper.updateValue("title",e)},i.onDescriptionChange=function(e){i.setState({description:e}),i.testEditHelper.updateValue("description",e)},i.onUploadImage=function(e){var t=URL.createObjectURL(e.target.files[0]);i.setState({img:t}),i.testEditHelper.updateValue("img",e.target.files[0])},i.onTimeModeChange=function(){i.setState({limited:!i.state.limited})},i.onTestTimeChange=function(e){i.setState({timeToComplete:e.target.value}),i.testEditHelper.updateValue("timeToComplete",e.target.value)},i.onPublishDelay=function(){if(!0===i.state.delayed){var e=(new Date).toISOString().substring(0,19);i.setState({date:e,delayed:!i.state.delayed}),i.testEditHelper.updateValue("date",e)}else i.setState({delayed:!i.state.delayed})},i.onPublishDateTimeChange=function(e){i.setState({date:e.target.value}),i.testEditHelper.updateValue("date",e.target.value)},i.onQuestionEditClick=function(){"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"!==i.state.title&&""!==i.state.title&&i.props.history.push("/createQuestions")},i.application=e.application,i.testCreationService=i.application.provideTestCreationService(),i.testEditHelper=i.application.provideTestEditHelper();var r=i.testEditHelper.getTest();return i.state={limited:i.testCreationService.getLimitation(r),timeToComplete:r.timeToComplete,delayed:i.testCreationService.getDelay(r),date:E(r.date)?(new Date).toISOString().substring(0,19):de(r.date).toISOString().substring(0,19),title:E(r)||E(r.title)?"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435":r.title,description:E(r)||E(r.description)?"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435":r.description,img:E(r)||E(r.img)?a(308):r.img},i}return Object(u.a)(n,[{key:"componentWillUnmount",value:function(){this.state.limited||null===this.state.timeToComplete||"null"===this.state.timeToComplete||this.testEditHelper.updateValue("timeToComplete",null),this.testEditHelper.sendChanges()}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ke,null),i.a.createElement("section",{className:Yt.a.page},i.a.createElement("div",{className:Yt.a.test_card},i.a.createElement(Ot,{key:[this.state.title,this.state.img],disableButton:!0,id:Math.random(),title:this.state.title,img:this.state.img,date:this.state.date,progress:new Promise((function(){return 0}))})),i.a.createElement("form",null,i.a.createElement("div",{className:Yt.a.input_title},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),i.a.createElement("div",{className:Yt.a.input},i.a.createElement(_t,{placeholder:this.state.title,maxLength:70,onChange:this.onTitleChange})),i.a.createElement("div",{className:Yt.a.input_title},"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),i.a.createElement("div",{className:Yt.a.input},i.a.createElement(_t,{autoResize:!0,onChange:this.onDescriptionChange,placeholder:this.state.description})),i.a.createElement("label",{className:Yt.a.custom_file_upload},i.a.createElement("input",{type:"file",accept:"image/*",onChange:this.onUploadImage}),i.a.createElement("div",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u043e\u0442\u043e")),i.a.createElement("div",{className:Yt.a.input_title},"\u0412\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0442\u0435\u0441\u0442\u0430"),i.a.createElement("div",{className:Yt.a.time_limit},i.a.createElement("div",{className:Yt.a.time_limit_item},i.a.createElement("input",{type:"radio",onChange:this.onTimeModeChange,checked:!this.state.limited,name:"time_limit",id:"no_limit",value:"no_limit"}),i.a.createElement("label",{htmlFor:"no_limit"},"\u0411\u0435\u0437 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0439")),i.a.createElement("div",{className:Yt.a.time_limit_item},i.a.createElement("input",{type:"radio",checked:this.state.limited,onChange:this.onTimeModeChange,name:"time_limit",id:"limited",value:"limited"}),i.a.createElement("label",{htmlFor:"limited"},"\u0421 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435\u043c"),this.state.limited?i.a.createElement(ft,{name:"time",value:this.state.timeToComplete,onChange:this.onTestTimeChange,options:{"1:0":"01:00","2:0":"02:00","3:0":"03:00","4:0":"04:00","5:0":"05:00","6:0":"06:00","7:0":"07:00","8:0":"08:00","9:0":"09:00","10:0":"10:00","15:0":"15:00","20:0":"20:00","25:0":"25:00","30:0":"30:00","35:0":"35:00","40:0":"40:00","45:0":"45:00","50:0":"50:00","55:0":"55:00","60:0":"60:00"}}):"")),i.a.createElement("div",{className:Yt.a.input_title},"\u041f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044f"),i.a.createElement("div",{className:Yt.a.time_limit},i.a.createElement("div",{className:Yt.a.time_limit_item},i.a.createElement("input",{type:"radio",checked:!this.state.delayed,onChange:this.onPublishDelay,name:"delayed",id:"no_delay",value:"no_delay"}),i.a.createElement("label",{htmlFor:"no_delay"},"\u041c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u0430\u044f ")),i.a.createElement("div",{className:"".concat(Yt.a.time_limit_item," ").concat(Yt.a.publish_delay_item)},i.a.createElement("input",{type:"radio",checked:this.state.delayed,onChange:this.onPublishDelay,name:"delayed",id:"delayed",value:"delayed"}),i.a.createElement("label",{htmlFor:"delayed"},"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f "))),this.state.delayed?i.a.createElement("input",{type:"datetime-local",onChange:this.onPublishDateTimeChange,value:this.state.date,min:(new Date).toISOString().substring(0,19)}):""),i.a.createElement("div",{className:Yt.a.next,onClick:this.onQuestionEditClick},i.a.createElement("div",null,"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u044b"),i.a.createElement("div",{className:Yt.a.chevron}))))}}]),n}(i.a.Component),ea=Object(_.e)($t),ta=a(32),aa=a.n(ta),na=a(24),ia=a.n(na),ra=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).prepareAnswers=function(e){var t=0;e.answers.forEach((function(e){e.serialNumber=t++}))},n.onQuestionTextChange=function(e){n.setState({questionText:e})},n.onAnswerTextChange=function(e,t){var a=n.state.answers;a.forEach((function(a){a.serialNumber===parseInt(t)&&(a.answer=e)})),n.setState({answers:a})},n.onExplainTextChange=function(e){n.setState({explain:e})},n.onTestTimeChange=function(e){var t=n.state.answers;t.forEach((function(t){t.serialNumber===parseInt(e)?t.isRight=1:t.isRight=0})),n.setState({answers:t,rightAnswer:e})},n.onRewardChange=function(e){n.setState({reward:parseInt(e)})},n.onSaveClick=function(){var e={questionText:n.state.questionText,explain:n.state.explain,id:n.props.question.id,reward:n.state.reward,serialNumber:n.props.question.serialNumber,answers:n.state.answers};n.props.updateQuestion(e)},n.onBackClick=function(){n.onSaveClick(),n.props.onBackClick()},n.renderAnswers=function(){if(n.props.question.answers.length>0)return n.props.question.answers.sort((function(e,t){return e.serialNumber-t.serialNumber})).map((function(e){return i.a.createElement("div",{className:ia.a.input},i.a.createElement(_t,{id:e.serialNumber,key:n.state.answers,autoResize:!0,placeholder:e.answer,rows:1,maxLength:80,onChange:n.onAnswerTextChange}))}))},n.prepareAnswers(e.question),n.state={reward:e.question.reward,questionText:e.question.questionText,answers:e.question.answers,explain:null!==e.question.explain?e.question.explain:"",rightAnswer:e.question.answers.filter((function(e){return e.isRight===M.RIGHT_ANSWER}))[0].serialNumber},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:ia.a.container},i.a.createElement("div",{className:ia.a.sticky_container},i.a.createElement("div",{className:"".concat(ia.a.back_button)},i.a.createElement(I,{disabled:!0,onClick:this.onBackClick}))),i.a.createElement(dt,null,i.a.createElement("div",{className:ia.a.content},i.a.createElement("div",{className:ia.a.input_title},"\u0412\u043e\u043f\u0440\u043e\u0441"),i.a.createElement("div",{className:ia.a.input},i.a.createElement(_t,{placeholder:this.state.questionText,maxLength:135,onChange:this.onQuestionTextChange})),i.a.createElement("div",{className:ia.a.input_title},"\u0412\u0430\u0440\u0438\u0430\u043d\u0442\u044b \u043e\u0442\u0432\u0435\u0442\u043e\u0432"),this.renderAnswers(),i.a.createElement("div",{className:ia.a.right_answer_choice},i.a.createElement("div",null,"\u0412\u0435\u0440\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442"),i.a.createElement(ft,{name:"time",value:this.state.rightAnswer,onChange:function(t){return e.onTestTimeChange(t.target.value)},options:{0:1,1:2,2:3,3:4}})),i.a.createElement("div",{className:ia.a.input_title},"\u041e\u0431\u044a\u044f\u0441\u043d\u0435\u043d\u0438\u0435"),i.a.createElement(_t,{placeholder:this.state.explain,maxLength:285,onChange:this.onExplainTextChange}),i.a.createElement("div",{className:ia.a.input_title},"\u041d\u0430\u0433\u0440\u0430\u0434\u0430"),i.a.createElement("div",{className:ia.a.input},i.a.createElement(_t,{placeholder:this.state.reward,rows:1,onChange:this.onRewardChange})),i.a.createElement("button",{className:ia.a.save_button,onClick:this.onSaveClick},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))}}]),a}(i.a.Component),sa=a(124),oa=a.n(sa),ca=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).onDeleteClick=function(){e.props.onDelete(e.props.id)},e.onEditClick=function(){e.props.onEdit(e.props.id)},e}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:oa.a.question_item},i.a.createElement("button",{onClick:this.onDeleteClick}),i.a.createElement("div",{onClick:this.onEditClick},i.a.createElement("span",null,this.props.text)),i.a.createElement("button",{onClick:this.onEditClick}))}}]),a}(i.a.Component),la=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;Object(l.a)(this,a),(n=t.call(this,e)).onAddQuestionClick=function(){var e=n.state.questions;e.push({questionText:"PLACEHOLDER",serialNumber:parseInt(n.state.questions.length>0?n.state.questions.reduce((function(e,t){return e.serialNumber>t.serialNumber?e:t})).serialNumber:-1)+1}),n.testEditHelper.updateValue("questions",e),n.setState({questions:e})},n.onEditQuestionClick=function(e){if(E(n.state.editWindowData)){var t=e.currentTarget.getBoundingClientRect(),a={questionId:e.currentTarget.id,top:t.top,left:t.left};setTimeout((function(){return n.setState({editWindowData:a})}),100)}},n.onDeleteQuestionClick=function(e){var t=n.state.questions.filter((function(t){return t.serialNumber!==parseInt(e)}));n.shiftQuestions(t,e),n.testEditHelper.updateValue("questions",t),n.setState({questions:t})},n.shiftQuestions=function(e,t){return parseInt(n.state.questions.reduce((function(e,t){return e.serialNumber>t.serialNumber?e:t})).serialNumber)!==t&&e.forEach((function(e){e.serialNumber>t&&e.serialNumber--})),e},n.onAddQuestionItemClick=function(e){var t=parseInt(e),a=1===n.state.questions.filter((function(e){return"PLACEHOLDER"===e.questionText&&e.serialNumber===t})).length,i=n.state.questions;a&&i.filter((function(e){return e.serialNumber!==t}));var r={id:n.state.latestId,questionText:"",answers:[0,1,2,3].map((function(e){return{serialNumber:e,answer:"",answerType:"text",isRight:0===e?M.RIGHT_ANSWER:M.WRONG_ANSWER}})),explain:"",reward:i.filter((function(e){return e.serialNumber===t}))[0].reward,serialNumber:t};i.push(r),n.testEditHelper.updateValue("questions",i),n.setState({questions:i,modalAnswerCreation:r,latestId:n.state.latestId-1})},n.onDeleteQuestionItem=function(e){var t=0,a=n.state.questions.filter((function(a){return a.id!==parseInt(e)||(t=a.serialNumber,!1)}));0===a.filter((function(e){return e.serialNumber===t})).length&&n.shiftQuestions(a,t),n.testEditHelper.updateValue("questions",a),n.setState({questions:a})},n.onEditQuestionItem=function(e){var t=n.state.questions.filter((function(t){return t.id===e}));n.setState({modalAnswerCreation:t[0]})},n.onSaveClick=function(){n.testEditHelper.sendChanges()},n.onBackClick=function(){n.testEditHelper.sendChanges()},n.renderEditWindow=function(){return E(n.state.editWindowData)?"":i.a.createElement("div",{className:aa.a.edit_window_container,onClick:n.onCloseEditWindowClick},i.a.createElement("div",{className:aa.a.edit_window,style:{top:n.state.editWindowData.top-70,left:n.state.editWindowData.left-.65*window.innerWidth}},i.a.createElement(Ht,{data:[{id:n.state.editWindowData.questionId,value:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0430\u0440\u0438\u0430\u043d\u0442",onClick:n.onAddQuestionItemClick},{id:n.state.editWindowData.questionId,value:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441",onClick:n.onDeleteQuestionClick}]})))},n.onCloseEditWindowClick=function(){n.setState({editWindowData:void 0})},n.updateQuestion=function(e){var t=n.state.questions;(t=t.filter((function(t){return t.id!==e.id}))).forEach((function(t){if(t.serialNumber===e.serialNumber)return t.reward=e.reward,t})),t.push(e),n.testEditHelper.updateValue("questions",t),n.setState({questions:t})},n.renderQuestions=function(){if(E(n.state.questions))return i.a.createElement("div",{className:aa.a.question_container},i.a.createElement("div",{className:aa.a.control},i.a.createElement("span",null,"\u0412\u043e\u043f\u0440\u043e\u0441 \u21161"),i.a.createElement("button",{id:1,onClick:n.onEditQuestionClick})));var e=n.prepareQuestions(n.state.questions);return Object.keys(e).sort((function(e,t){return parseInt(e)-parseInt(t)})).map((function(t){return i.a.createElement("div",{key:t,className:aa.a.question_container},i.a.createElement("div",{className:aa.a.control},i.a.createElement("span",null,"\u0412\u043e\u043f\u0440\u043e\u0441 \u2116",parseInt(t)+1),i.a.createElement("button",{id:parseInt(t),onClick:n.onEditQuestionClick})),e[t].map((function(e){return"PLACEHOLDER"!==e.questionText?i.a.createElement("div",{key:e.id,className:aa.a.question_item},i.a.createElement(ca,{key:e.id,onDelete:n.onDeleteQuestionItem,onEdit:n.onEditQuestionItem,id:e.id,text:e.questionText})):""})))}))},n.prepareQuestions=function(e){var t={};return e.forEach((function(e){E(t[e.serialNumber])?(t[e.serialNumber]=[],t[e.serialNumber].push(e)):t[e.serialNumber].push(e)})),t},n.application=e.application,n.testEditHelper=n.application.provideTestEditHelper();var r=n.testEditHelper.getTest();return n.state={questions:E(r.questions)?[]:r.questions,editWindowData:void 0,modalAnswerCreation:!1,latestId:-1},n}return Object(u.a)(a,[{key:"componentWillUnmount",value:function(){this.onSaveClick()}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ke,{key:this.state.modalAnswerCreation,onClick:this.onBackClick,style:this.state.modalAnswerCreation?{filter:"blur(2px)"}:{}}),i.a.createElement("div",{className:"".concat(aa.a.container," ").concat((this.state.modalAnswerCreation,""))},i.a.createElement("div",{className:aa.a.header,style:this.state.modalAnswerCreation?{filter:"blur(2px)"}:{}},"\u0421\u043f\u0438\u0441\u043e\u043a \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432",i.a.createElement("button",{onClick:this.onAddQuestionClick})),this.renderQuestions(),i.a.createElement("button",{className:aa.a.save_button,onClick:this.onSaveClick},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")),this.renderEditWindow(),this.state.modalAnswerCreation?i.a.createElement("div",{className:aa.a.answers_window},i.a.createElement(ra,{key:this.state.modalAnswerCreation,question:this.state.modalAnswerCreation,onBackClick:function(){return e.setState({modalAnswerCreation:!1})},updateQuestion:this.updateQuestion})):"")}}]),a}(i.a.Component),ua=Object(_.e)(la),da=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={},n.application=new We,n}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement(m.a,null,i.a.createElement(_.a,{exact:!0,path:"/createQuestions",render:function(t){var a=t.match;return i.a.createElement(ua,{match:a,application:e.application})}}),i.a.createElement(_.a,{exact:!0,path:"/testEditing",render:function(t){var a=t.match;return i.a.createElement(ea,{match:a,application:e.application})}}),i.a.createElement(_.a,{exact:!0,path:"/result/:testId",render:function(t){var a=t.match;return i.a.createElement(Xt,{match:a,application:e.application})}}),i.a.createElement(_.a,{exact:!0,path:"/question/:testId/:questionId",render:function(t){var a=t.match;return i.a.createElement(ae,{match:a,application:e.application})}}),i.a.createElement(_.a,{exact:!0,path:"/preview/:testId",render:function(t){var a=t.match;return i.a.createElement(U,{match:a,application:e.application})}}),i.a.createElement(_.a,{exact:!0,path:"/stickerShop",render:function(t){var a=t.match;return i.a.createElement(Ct,{match:a,application:e.application})}}),i.a.createElement(_.a,{exact:!0,path:"/",render:function(t){var a=t.match;return i.a.createElement(Gt,{match:a,application:e.application})}}))}}]),a}(i.a.Component);c.a.send("VKWebAppInit",{}),-1!==navigator.userAgent.indexOf("iPhone")?c.a.send("VKWebAppSetViewSettings",{status_bar_style:"light"}):c.a.send("VKWebAppSetViewSettings",{status_bar_style:"dark",action_bar_color:"none"}),s.a.render(i.a.createElement(da,null),document.getElementById("root"))},32:function(e,t,a){e.exports={container:"QuestionCreation_container__4-0zv",header:"QuestionCreation_header__xflv4",question_container:"QuestionCreation_question_container__cq-LK",control:"QuestionCreation_control__1m4B0",question_item:"QuestionCreation_question_item__N1acc",save_button:"QuestionCreation_save_button__1Qke8",edit_window_container:"QuestionCreation_edit_window_container__1tKdV",edit_window:"QuestionCreation_edit_window__imda4",answers_window:"QuestionCreation_answers_window__17UQ9",blur:"QuestionCreation_blur__1gANt"}},33:function(e,t,a){e.exports={container:"StickerShop_container__1_Jxk",headline:"StickerShop_headline__3SHu8",score:"StickerShop_score__1oqND",wrapper:"StickerShop_wrapper__KjptD",content:"StickerShop_content__aeXea",sticker_container:"StickerShop_sticker_container__2bkCy",p:"StickerShop_p__3ze78",window:"StickerShop_window__3KXN3",confirm_modal_container:"StickerShop_confirm_modal_container__fwK5T",confirm_modal:"StickerShop_confirm_modal__1ovcz"}},34:function(e,t,a){e.exports={result_window:"Result_result_window__V3fbv",result_bubble:"Result_result_bubble__3RBgx",pulse:"Result_pulse__3OUzd",planet_1:"Result_planet_1__13zpg",orbit:"Result_orbit__2QicC",planet_2:"Result_planet_2__1-pPJ",orbit_inverse:"Result_orbit_inverse__M4IYb",planet_3:"Result_planet_3__LcSLe",orbit_inverse_45:"Result_orbit_inverse_45__1JELB",percent:"Result_percent__1Qs_d",tip:"Result_tip__SxHlK",controls:"Result_controls__2KEsw",first_button:"Result_first_button__3zgpG",second_button:"Result_second_button__1AYDs"}},37:function(e,t,a){e.exports={answer_block:"Answer_answer_block__1wvCu",head:"Answer_head__2MofX",question_label:"Answer_question_label__2KNq_",exit:"Answer_exit__32gtj",question:"Answer_question__2yT-U",ans_title:"Answer_ans_title__1bpqR",ans:"Answer_ans__3v-gZ",explanation_title:"Answer_explanation_title__1K0VA",explanation:"Answer_explanation__2UPpb"}},41:function(e,t,a){e.exports={level_wrapper:"LevelFragment_level_wrapper__2XPdd",dignity:"LevelFragment_dignity__2qwch",quote:"LevelFragment_quote__3qQWY",sticker_wrapper:"LevelFragment_sticker_wrapper__2pPKO",cloud:"LevelFragment_cloud__q-fZV",sticker:"LevelFragment_sticker__1kH0f"}},45:function(e,t,a){e.exports={path:"Animation_path__29Z2_",path_circle:"Animation_path_circle__3XYG5",dash:"Animation_dash__3V9fW",path_line:"Animation_path_line__2YZY3",path_check:"Animation_path_check__YVjvF","dash-check":"Animation_dash-check__3nlz1",canvas:"Animation_canvas__6yicH"}},50:function(e,t,a){e.exports={question_item:"QuestionItemFragment_question_item__1SNbF",question_status:"QuestionItemFragment_question_status__2uTD-",question_preview:"QuestionItemFragment_question_preview__XuuMr",title:"QuestionItemFragment_title__37aKM",answer:"QuestionItemFragment_answer__3FBs7",separator:"QuestionItemFragment_separator__BtnFm"}},56:function(e,t,a){e.exports={modal:"ConfirmModal_modal__Vf5jX",controls:"ConfirmModal_controls__2NXGC",approve:"ConfirmModal_approve__11cge",cancel:"ConfirmModal_cancel__2bzlE"}},57:function(e,t,a){e.exports={news_container:"testList_news_container__2piSn",add_button:"testList_add_button__3aj4Z",confirm_modal_container:"testList_confirm_modal_container__BlQQ4",confirm_modal:"testList_confirm_modal__1wcDD"}},58:function(e,t,a){e.exports={main_window:"Main_main_window__y1OY2",news_wrapper:"Main_news_wrapper__2MBvs",profile:"Main_profile__2r9Pf",background:"Main_background__25guO"}},66:function(e,t,a){e.exports={container:"Score_container__39kVk",score:"Score_score__3SM1u",focus:"Score_focus__8sGOD"}},67:function(e,t,a){e.exports={window:"ModalWindow_window__149pl",slider_wrapper:"ModalWindow_slider_wrapper__-Gx7j",slider:"ModalWindow_slider__2Oq4L"}},85:function(e,t,a){e.exports={answer_item:"AnswerItemFragment_answer_item__IMU2P",number:"AnswerItemFragment_number__1rLoc",text:"AnswerItemFragment_text__3Pu-f"}},86:function(e,t,a){e.exports={header:"BackHeader_header__2kfwn",exit_button:"BackHeader_exit_button__3IdyD"}},87:function(e,t,a){e.exports={input:"Input_input__1r20J",counter:"Input_counter__L7RG5"}},88:function(e,t,a){e.exports={settings_window:"SelectWindow_settings_window__16Y4K",settings_item:"SelectWindow_settings_item__3oOu5"}}},[[213,1,2]]]);
//# sourceMappingURL=main.ee078436.chunk.js.map